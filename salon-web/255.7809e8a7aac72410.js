"use strict";(self.webpackChunksalon_web=self.webpackChunksalon_web||[]).push([[255],{5255:(Te,x,d)=>{d.r(x),d.d(x,{CheckoutModule:()=>xe});var v=d(6895),C=d(4553),f=d(5861),p=d(5439),e=d(4650),Z=d(7241),A=d(5830),w=d(4866),h=d(7890),g=d(4006),T=d(5470);const M=["deliveryAddress"],S=["couponModal"],N=["successModal"],I=["payPalModal"],q=["id2"],E=["id3"],U=["id4"],J=["idservice"];function O(o,l){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit,i=e.oxw();e.xp6(1),e.AsE(" ",i.util.currencySymbol," ",t.price," ")}}function D(o,l){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit,i=e.oxw();e.xp6(1),e.AsE(" ",t.price," ",i.util.currencySymbol," ")}}function H(o,l){if(1&o&&(e.TgZ(0,"span",118),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit,i=e.oxw();e.xp6(1),e.AsE(" ",i.util.currencySymbol," ",t.off," ")}}function P(o,l){if(1&o&&(e.TgZ(0,"span",118),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit,i=e.oxw();e.xp6(1),e.AsE(" ",t.off," ",i.util.currencySymbol," ")}}const _=function(o){return{"background-image":o}};function F(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div",107)(1,"a"),e._UZ(2,"img",108),e.qZA(),e.TgZ(3,"a",109)(4,"p",110),e._uU(5),e.qZA(),e.TgZ(6,"p",111),e._uU(7),e.qZA(),e.TgZ(8,"div",112)(9,"p",113)(10,"del"),e.YNc(11,O,2,2,"span",34),e.YNc(12,D,2,2,"span",34),e.qZA()(),e.TgZ(13,"p",114),e.YNc(14,H,2,2,"span",115),e.YNc(15,P,2,2,"span",115),e.qZA(),e.TgZ(16,"div",116)(17,"i",117),e.NdJ("click",function(){const a=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.removeService(a))}),e.qZA()()()()()}if(2&o){const t=l.$implicit,i=e.oxw();e.xp6(2),e.Q6J("ngStyle",e.VKq(8,_,"url("+i.api.mediaURL+t.cover+"),url(assets/images/placeholder.jpg)")),e.xp6(3),e.Oqu(t.name),e.xp6(2),e.AsE(" ",t.duration," ",i.util.translate("Min. Duration")," "),e.xp6(4),e.Q6J("ngIf","left"==i.util.currencySide),e.xp6(1),e.Q6J("ngIf","right"==i.util.currencySide),e.xp6(2),e.Q6J("ngIf","left"==i.util.currencySide),e.xp6(1),e.Q6J("ngIf","right"==i.util.currencySide)}}function Q(o,l){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit,i=e.oxw();e.xp6(1),e.AsE(" ",i.util.currencySymbol," ",t.price," ")}}function j(o,l){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit,i=e.oxw();e.xp6(1),e.AsE(" ",t.price," ",i.util.currencySymbol," ")}}function W(o,l){if(1&o&&(e.TgZ(0,"span",118),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit,i=e.oxw();e.xp6(1),e.AsE(" ",i.util.currencySymbol," ",t.off," ")}}function L(o,l){if(1&o&&(e.TgZ(0,"span",118),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit,i=e.oxw();e.xp6(1),e.AsE(" ",t.off," ",i.util.currencySymbol," ")}}function Y(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div",107)(1,"a"),e._UZ(2,"img",108),e.qZA(),e.TgZ(3,"a",109)(4,"p",110),e._uU(5),e.qZA(),e.TgZ(6,"p",111),e._uU(7),e.qZA(),e.TgZ(8,"div",112)(9,"p",113)(10,"del"),e.YNc(11,Q,2,2,"span",34),e.YNc(12,j,2,2,"span",34),e.qZA()(),e.TgZ(13,"p",114),e.YNc(14,W,2,2,"span",115),e.YNc(15,L,2,2,"span",115),e.qZA(),e.TgZ(16,"div",116)(17,"i",117),e.NdJ("click",function(){const a=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.removePackage(a))}),e.qZA()()()()()}if(2&o){const t=l.$implicit,i=e.oxw();e.xp6(2),e.Q6J("ngStyle",e.VKq(8,_,"url("+i.api.mediaURL+t.cover+"),url(assets/images/placeholder.jpg)")),e.xp6(3),e.Oqu(t.name),e.xp6(2),e.AsE(" ",t.duration," ",i.util.translate("Min. Duration")," "),e.xp6(4),e.Q6J("ngIf","left"==i.util.currencySide),e.xp6(1),e.Q6J("ngIf","right"==i.util.currencySide),e.xp6(2),e.Q6J("ngIf","left"==i.util.currencySide),e.xp6(1),e.Q6J("ngIf","right"==i.util.currencySide)}}function z(o,l){1&o&&e._UZ(0,"mdb-icon",119)}function K(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div",120),e.NdJ("click",function(){const a=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.selectDate(a))}),e.TgZ(1,"div",121),e._uU(2),e.qZA(),e.TgZ(3,"div",122),e._uU(4),e.qZA()()}if(2&o){const t=l.$implicit,i=e.oxw();e.ekj("disabled",i.initDate.split("T")[0]>t.val.split("T")),e.xp6(1),e.ekj("selectedDay",t.val.split("T")[0]==i.selectedDate),e.xp6(1),e.hij(" ",t.day," "),e.xp6(1),e.ekj("selectedDate",t.val.split("T")[0]==i.selectedDate),e.xp6(1),e.hij(" ",t.date," ")}}const b=function(o){return{"background-color":o}},y=function(o){return{color:o}};function G(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div",123)(1,"a",124),e.NdJ("click",function(){const a=e.CHM(t).$implicit,r=e.oxw();return e.KtG(!r.bookedSlots.includes(a.start_time+"-"+a.end_time)&&r.selectSlot(a.start_time+"-"+a.end_time))}),e.TgZ(2,"a",125),e._uU(3),e.qZA()()()}if(2&o){const t=l.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngStyle",e.VKq(4,b,i.bookedSlots.includes(t.start_time+"-"+t.end_time)?"grey":i.selectedSlotIndex==t.start_time+"-"+t.end_time?"#0b19df":null)),e.xp6(1),e.Q6J("ngStyle",e.VKq(6,y,i.bookedSlots.includes(t.start_time+"-"+t.end_time)||i.selectedSlotIndex==t.start_time+"-"+t.end_time?"white":null)),e.xp6(1),e.AsE(" ",t.start_time," - ",t.end_time,"")}}function R(o,l){1&o&&e._UZ(0,"i",129)}function B(o,l){1&o&&e._UZ(0,"i",130)}function $(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div",107)(1,"a"),e._UZ(2,"div",108),e.qZA(),e.TgZ(3,"a",109)(4,"p",110),e._uU(5),e.qZA(),e.TgZ(6,"div",112)(7,"div",126),e.NdJ("click",function(){const a=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.saveSpecialist(a.id,a.first_name+" "+a.last_name))}),e.YNc(8,R,1,0,"i",127),e.YNc(9,B,1,0,"i",128),e.qZA()()()()}if(2&o){const t=l.$implicit,i=e.oxw();e.xp6(2),e.Q6J("ngStyle",e.VKq(4,_,"url("+i.api.mediaURL+t.cover+"),url(assets/images/placeholder.jpg)")),e.xp6(3),e.Oqu(t.first_name+" "+t.last_name),e.xp6(3),e.Q6J("ngIf",i.selectedSpecialist!=t.id),e.xp6(1),e.Q6J("ngIf",i.selectedSpecialist==t.id)}}function V(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div",131)(1,"a",132),e.NdJ("click",function(){const a=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.savePayment(a.id))}),e._UZ(2,"div",133),e.TgZ(3,"a",134),e._uU(4),e.qZA(),e.TgZ(5,"a",135),e._UZ(6,"i",136),e.qZA()()()}if(2&o){const t=l.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngStyle",e.VKq(5,b,i.paymentId==t.id?"#0b19df":null)),e.xp6(1),e.Q6J("ngStyle",e.VKq(7,_,"url("+i.api.mediaURL+t.cover+"),url(assets/images/placeholder.jpg)")),e.xp6(1),e.Q6J("ngStyle",e.VKq(9,y,i.paymentId==t.id?"white":null)),e.xp6(1),e.hij(" ",t.name,""),e.xp6(2),e.Q6J("ngStyle",e.VKq(11,y,"white"))}}function X(o,l){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.AsE("",t.util.currencySymbol," ",t.serviceCart.grandTotal,"")}}function ee(o,l){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.AsE("",t.serviceCart.grandTotal," ",t.util.currencySymbol,"")}}function te(o,l){1&o&&e._UZ(0,"i",137)}function ie(o,l){1&o&&e._UZ(0,"i",138)}function se(o,l){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.AsE(" ",t.util.currecny," ",t.balance," ")}}function oe(o,l){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.AsE(" ",t.balance," ",t.util.currecny," ")}}function ae(o,l){if(1&o&&(e.TgZ(0,"span",139),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.AsE("",t.util.currencySymbol," ",t.serviceCart.totalPrice,"")}}function re(o,l){if(1&o&&(e.TgZ(0,"span",139),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.AsE("",t.serviceCart.totalPrice," ",t.util.currencySymbol,"")}}function le(o,l){if(1&o&&(e.TgZ(0,"span",140),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.AsE("",t.util.currencySymbol," -",t.serviceCart.discount,"")}}function ne(o,l){if(1&o&&(e.TgZ(0,"span",140),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.AsE("-",t.serviceCart.discount," ",t.util.currencySymbol,"")}}function ce(o,l){if(1&o&&(e.TgZ(0,"span",139),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.AsE("",t.util.currencySymbol," ",t.serviceCart.orderTax,"")}}function de(o,l){if(1&o&&(e.TgZ(0,"span",139),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.AsE("",t.serviceCart.orderTax," ",t.util.currencySymbol,"")}}function ue(o,l){if(1&o&&(e.TgZ(0,"span",139),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.AsE("",t.util.currencySymbol," ",t.serviceCart.deliveryCharge,"")}}function pe(o,l){if(1&o&&(e.TgZ(0,"span",139),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.AsE("",t.serviceCart.deliveryCharge," ",t.util.currencySymbol,"")}}function he(o,l){if(1&o&&(e.TgZ(0,"span",141),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.AsE("",t.util.currencySymbol," ",t.serviceCart.grandTotal,"")}}function ge(o,l){if(1&o&&(e.TgZ(0,"span",141),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.AsE("",t.serviceCart.grandTotal," ",t.util.currencySymbol,"")}}function me(o,l){if(1&o&&(e.TgZ(0,"h5",87),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",t.util.translate("Add Delivery Address")," ")}}function fe(o,l){if(1&o&&(e.TgZ(0,"h5",87),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",t.util.translate("Update Delivery Address")," ")}}function _e(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"button",142),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.getLatLngFromAddress())}),e._uU(1),e.qZA()}if(2&o){const t=e.oxw();e.xp6(1),e.hij("",t.util.translate("Add")," ")}}function ve(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"button",142),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.getLatLngFromAddress())}),e._uU(1),e.qZA()}if(2&o){const t=e.oxw();e.xp6(1),e.hij("",t.util.translate("Update")," ")}}function Ce(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div")(1,"div",143)(2,"p")(3,"span",144),e._uU(4),e.qZA(),e._UZ(5,"br"),e.TgZ(6,"span",145),e._uU(7),e.qZA()(),e.TgZ(8,"div",146),e.NdJ("click",function(){const a=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.selectedOffers(a))}),e._uU(9),e.qZA()()()}if(2&o){const t=l.$implicit,i=e.oxw();e.xp6(4),e.Oqu(t.name),e.xp6(3),e.hij("",t.short_descriptions," "),e.xp6(2),e.hij(" ",i.util.translate("Claim Coupon")," ")}}const k=function(){return{standalone:!0}},ye=[{path:"",component:(()=>{class o{constructor(t,i,s,a,r){this.router=t,this.util=i,this.api=s,this.navParam=a,this.serviceCart=r,this.checkModel={left:!0,middle:!1,right:!1},this.radioModel="Left",this.currentWeek=0,this.days=[],this.orderNotes="",this.paymentId="",this.payMethodName="",this.addressList=[],this.addressTitle=["Home","Office","Other"],this.slotList=[],this.bookedSlots=[],this.offersList=[],this.selectedSlotIndex="",this.freelancerCover="",this.freelancerName="",this.totalExperience=10,this.rating=0,this.totalRating=0,this.dayList=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],this.addressId=0,this.title="",this.address="",this.house="",this.landmark="",this.zipcode="",this.lat=0,this.lng=0,this.isNewAddress=!0,this.currency_code="",this.paymentMethodList=[],this.balance=0,this.walletDiscount=0,this.walletCheck=!1,this.specialist=[],this.selectedSpecialist="",this.specialistName="",this.serviceAt="salon",this.serviceCart&&this.serviceCart.totalItemInCart>0?setTimeout(()=>{this.dateConfi(),this.selectedDate=p().format().split("T")[0],this.getSlotsForBookings(),this.getSpecialist(),this.getAddress(),this.getPayments(),this.getFreelancerByID(),this.getWalletAmount()},1e3):this.router.navigate([""])}saveSpecialist(t,i){this.selectedSpecialist=t,this.specialistName=i,this.specialistCollapse.toggle()}getSpecialist(){let t="";this.serviceCart.serviceCart.length>0?t=this.serviceCart.serviceCart[0].uid:this.serviceCart.packagesCart.length>0&&(t=this.serviceCart.packagesCart[0].uid),this.api.post_private("v1/specialist/getSpecialist",{id:t}).then(i=>{console.log("specialist **************************",i),i&&i.status&&200==i.status&&(this.specialist=i.data)},i=>{console.log("Error",i),this.util.apiErrorHandler(i)}).catch(i=>{console.log("Err",i),this.util.apiErrorHandler(i)})}removeService(t){t.isChecked=!1,this.serviceCart.removeItem(t.id),0==this.serviceCart.serviceCart.length&&0==this.serviceCart.packagesCart.length&&this.router.navigate([""])}removePackage(t){t.isChecked=!1,this.serviceCart.removePackage(t.id),0==this.serviceCart.serviceCart.length&&0==this.serviceCart.packagesCart.length&&this.router.navigate([""])}getWalletAmount(){this.api.post_private("v1/profile/getMyWalletBalance",{id:localStorage.getItem("uid")}).then(t=>{console.log("------------------",t),t&&t.status&&200==t.status&&t.data&&(this.balance=parseFloat(t.data.balance),this.walletDiscount=parseFloat(t.data.balance),console.log(this.balance,this.walletDiscount))},t=>{console.log(t)}).catch(t=>{console.log(t)})}getAddress(){const t={id:localStorage.getItem("uid")};this.api.post_private("v1/address/getByUID",t).then(i=>{i&&200==i.status&&(console.log(i),this.addressList=i.data,console.log(this.addressList))},i=>{console.log("Error",i),this.util.apiErrorHandler(i)}).catch(i=>{console.log("Err",i),this.util.apiErrorHandler(i)})}getLatLngFromAddress(){if(""==this.address||""==this.house||""==this.landmark||""==this.zipcode)return this.util.apiErrorHandler(this.util.translate("all fields are required")),!1;const t=new google.maps.Geocoder;this.util.start(),t.geocode({address:this.house+" "+this.landmark+" "+this.address+" "+this.zipcode},(i,s)=>{if(console.log(i,s),"OK"!=s||!i||!i.length)return this.util.stop(),this.util.errorMessage(this.util.translate("Something went wrong")),!1;this.lat=i[0].geometry.location.lat(),this.lng=i[0].geometry.location.lng(),console.log("-----\x3e",this.lat,this.lng),1==this.isNewAddress?this.saveAddress():this.updateAddress()})}saveAddress(){if(""==this.address||""==this.house||""==this.landmark||""==this.zipcode)return this.util.apiErrorHandler(this.util.translate("all fields are required")),!1;const t={uid:localStorage.getItem("uid"),title:this.title,address:this.address,house:this.house,landmark:this.landmark,pincode:this.zipcode,lat:this.lat,lng:this.lng,status:1};this.util.start(),this.api.post_private("v1/address/save",t).then(i=>{i&&200==i.status&&(this.util.stop(),console.log(i),this.deliveryAddress.hide(),this.getAddress(),this.util.suucessMessage(this.util.translate("Address Added")))},i=>{console.log("Error",i),this.util.stop(),this.util.apiErrorHandler(i)}).catch(i=>{console.log("Err",i),this.util.stop(),this.util.apiErrorHandler(i)})}addNewAddress(){this.isNewAddress=!0,this.house="",this.landmark="",this.address="",this.addressId=0,this.zipcode="",this.deliveryAddress.show()}onEditAddress(t){this.addressId=t.id,this.isNewAddress=!1,this.address=t.address,this.house=t.house,this.landmark=t.landmark,this.zipcode=t.pincode,this.title=t.title,this.deliveryAddress.show()}updateAddress(){const t={uid:localStorage.getItem("uid"),title:this.title,address:this.address,id:this.addressId,house:this.house,landmark:this.landmark,pincode:this.zipcode,lat:this.lat,lng:this.lng,status:1};this.util.start(),this.api.post_private("v1/address/update",t).then(i=>{i&&200==i.status&&(this.util.stop(),this.deliveryAddress.hide(),this.getAddress(),console.log(i),this.util.suucessMessage(this.util.translate("Address Updated")))},i=>{console.log("Error",i),this.util.stop(),this.util.apiErrorHandler(i)}).catch(i=>{console.log("Err",i),this.util.stop(),this.util.apiErrorHandler(i)})}selectAddress(t){console.log(t),this.calculateDistance(t.lat,t.lng,t),this.addressCollapse.toggle()}calculateDistance(t,i,s){var a=this;return(0,f.Z)(function*(){let r;console.log(a.serviceCart.deliveredAddress),console.log(a.storeInfo),r=a.storeInfo&&a.storeInfo.lat?yield a.distanceInKmBetweenEarthCoordinates(t,i,a.storeInfo.lat,a.storeInfo.lng):0,console.log(r,a.util.allowDistance),r>parseFloat(a.util.allowDistance)?a.util.errorMessage(a.util.translate("Sorry we deliver the order near to "+a.util.allowDistance)):(0==a.util.deliveryType?(a.serviceCart.deliveryCharge=r*a.util.deliveryCharge,a.serviceCart.deliveredAddress=s):a.serviceCart.deliveryCharge=a.util.deliveryCharge,a.serviceCart.deliveryCharge=parseFloat(a.serviceCart.deliveryCharge).toFixed(2),a.serviceCart.calculateAllCharges()),console.log("delivery charge",a.serviceCart.deliveryCharge)})()}distanceInKmBetweenEarthCoordinates(t,i,s,a){console.log(t,i,s,a);const u=this.degreesToRadians(s-t),m=this.degreesToRadians(a-i);t=this.degreesToRadians(t),s=this.degreesToRadians(s);const n=Math.sin(u/2)*Math.sin(u/2)+Math.sin(m/2)*Math.sin(m/2)*Math.cos(t)*Math.cos(s);return 2*Math.atan2(Math.sqrt(n),Math.sqrt(1-n))*6371}degreesToRadians(t){return t*Math.PI/180}getSlotsForBookings(){let t="";this.serviceCart.serviceCart.length>0?t=this.serviceCart.serviceCart[0].uid:this.serviceCart.packagesCart.length>0&&(t=this.serviceCart.packagesCart[0].uid);const i={week_id:this.dayList.indexOf(p(this.selectedDate).format("dddd")),date:this.selectedDate,uid:t,from:"salon"};this.bookedSlots=[],this.slotList=[],this.api.post_private("v1/timeslots/getSlotsByForBookings",i).then(s=>{console.log(s),s&&s.status&&200==s.status&&s.data&&s.data.slots&&s.bookedSlots&&(this.slotList=JSON.parse(s.data.slots),this.bookedSlots=[],s.bookedSlots.forEach(a=>{this.bookedSlots.push(a.slot)}),console.log(this.slotList),console.log(this.bookedSlots))},s=>{console.log("Error",s),this.util.apiErrorHandler(s)}).catch(s=>{console.log("Err",s),this.util.apiErrorHandler(s)})}selectSlot(t){console.log(t),this.selectedSlotIndex=t,this.slotCollapse.toggle()}getFreelancerByID(){let t="";this.serviceCart.serviceCart.length>0?t=this.serviceCart.serviceCart[0].uid:this.serviceCart.packagesCart.length>0&&(t=this.serviceCart.packagesCart[0].uid),this.api.post("v1/salon/salonDetails",{id:t}).then(s=>{s&&200==s.status&&(console.log(s),this.freelancerCover=s.data.cover,this.freelancerName=s.data.name,this.rating=s.data.rating,this.totalRating=s.data.total_rating,this.storeInfo=s.data)},s=>{console.log("Error",s),this.util.apiErrorHandler(s)}).catch(s=>{console.log("Err",s),this.util.apiErrorHandler(s)})}dateConfi(){this.selectedDate=p().format().split("T")[0],this.currentDate=p().format().split("T")[0],this.days=[],this.initDate=p().format();const t=p().startOf("week"),i=p().endOf("week");let s=t;for(;s<=i;){const a={date:s.toDate().getDate(),day:s.format("ddd"),val:s.format(),selectDay:s.format("dddd DD MMMM")};this.days.push(a),s=s.clone().add(1,"d")}}previousWeek(){if(0!==this.currentWeek){this.days=[],this.currentWeek=this.currentWeek-1;const t=p().add(this.currentWeek,"weeks").startOf("week"),i=p().add(this.currentWeek,"weeks").endOf("week");let s=t;for(;s<=i;){const a={date:s.toDate().getDate(),day:s.format("ddd"),val:s.format(),selectDay:s.format("dddd DD MMMM")};this.days.push(a),s=s.clone().add(1,"d")}console.log(this.days)}}selectDate(t){console.log(t),this.currentDate<=t.val.split("T")[0]&&(this.selectedDate=t.val.split("T")[0],console.log(this.selectedDate),this.getSlotsForBookings())}nextWeek(){this.days=[],this.currentWeek++,console.log(this.currentWeek);const t=p().add(this.currentWeek,"weeks").startOf("week"),i=p().add(this.currentWeek,"weeks").endOf("week");let s=t;for(;s<=i;){const a={date:s.toDate().getDate(),day:s.format("ddd"),val:s.format(),selectDay:s.format("dddd DD MMMM")};this.days.push(a),s=s.clone().add(1,"d")}console.log(this.days)}addCoupon(){this.getActiveOffers(),this.couponModal.show()}removeOffer(){this.serviceCart.coupon=null,this.serviceCart.calcuate(),localStorage.removeItem("selectedOffer")}selectedOffers(t){if(this.serviceCart&&this.serviceCart.walletDiscount&&this.serviceCart.walletDiscount>0)return this.util.errorMessage(this.util.translate("Sorry you have already added a wallet discount to cart")),!1;console.log(t,this.storeInfo);const i=t.freelancer_ids.split(",").map(Number);console.log(i),console.log(i.includes(this.storeInfo.uid)),i.includes(this.storeInfo.uid)?(this.serviceCart.coupon=t,this.serviceCart.calculateAllCharges(),this.couponModal.hide()):this.util.errorMessage(this.util.translate("This coupon is not valid for ")+this.storeInfo.user_info.first_name)}getActiveOffers(){this.util.start(),this.api.get_private("v1/offers/getActive").then(t=>{this.util.stop(),console.log(t),t&&200==t.status&&(this.offersList=t.data,console.log(this.offersList))},t=>{console.log("Error",t),this.util.stop(),this.util.apiErrorHandler(t)}).catch(t=>{console.log("Err",t),this.util.stop(),this.util.apiErrorHandler(t)})}getPayments(){this.api.get_private("v1/payments/getPayments").then(t=>{t&&200==t.status&&(console.log(t),this.paymentMethodList=t.data,console.log(this.paymentMethodList),this.paymentMethodList.filter(r=>8==r.id).length&&this.util.loadScript("https://checkout.flutterwave.com/v3.js"),this.paymentMethodList.filter(r=>7==r.id).length&&this.util.loadScript("https://js.paystack.co/v1/inline.js"),this.paymentMethodList.filter(r=>5==r.id).length&&this.util.loadScript("https://checkout.razorpay.com/v1/checkout.js"))},t=>{console.log("Error",t),this.util.apiErrorHandler(t)}).catch(t=>{console.log("Err",t),this.util.apiErrorHandler(t)})}savePayment(t){console.log(t),this.paymentId=t,1==this.paymentId?this.payMethodName="cod":2==this.paymentId?this.payMethodName="stripe":3==this.paymentId?this.payMethodName="paypal":4==this.paymentId?this.payMethodName="paytm":5==this.paymentId?this.payMethodName="razorpay":6==this.paymentId?this.payMethodName="instamojo":7==this.paymentId?this.payMethodName="paystack":8==this.paymentId&&(this.payMethodName="flutterwave")}onCheckout(){return console.log(this.serviceAt),"home"!=this.serviceAt||this.serviceCart.deliveredAddress&&this.serviceCart.deliveredAddress.address&&this.serviceCart.deliveredAddress.lat?""==this.selectedSlotIndex?(console.log("Please select Slot"),this.util.errorMessage(this.util.translate("Please select Slot")),!1):void(0!=this.paymentId?1==this.paymentId?this.createOrder("COD"):2==this.paymentId?this.stripeWebCheckout():3==this.paymentId?this.payPalWebPay():4==this.paymentId?this.payTmWeb():5==this.paymentId?this.razoryPayWeb():6==this.paymentId?this.payWithInstaMOJOWeb():7==this.paymentId?this.paystackWeb():8==this.paymentId&&this.flutterwaveWeb():this.util.errorMessage(this.util.translate("Please select payment method"))):(console.log("Please select Address"),this.util.errorMessage(this.util.translate("Please select Address")),!1)}stripeWebCheckout(){console.log("Stripe Web Checkout");let t="";this.serviceCart.serviceCart.length>0?t=this.serviceCart.serviceCart[0].uid:this.serviceCart.packagesCart.length>0&&(t=this.serviceCart.packagesCart[0].uid);const i={uid:localStorage.getItem("uid"),freelancer_id:0,salon_id:t,specialist_id:this.selectedSpecialist,appointments_to:"home"==this.serviceAt?1:0,address:"home"==this.serviceAt?JSON.stringify(this.serviceCart.deliveredAddress):"NA",items:localStorage.getItem("userCart"),coupon_id:this.serviceCart&&this.serviceCart.coupon&&this.serviceCart.coupon.id?this.serviceCart.coupon.id:0,coupon:this.serviceCart&&this.serviceCart.coupon&&this.serviceCart.coupon.id?JSON.stringify(this.serviceCart.coupon):"NA",discount:this.serviceCart.discount,distance_cost:this.serviceCart.deliveryCharge,total:this.serviceCart.totalPrice,serviceTax:this.serviceCart.orderTax,grand_total:this.serviceCart.grandTotal,pay_method:this.paymentId,paid:"NA",save_date:this.selectedDate,slot:this.selectedSlotIndex,wallet_used:1==this.walletCheck&&this.walletDiscount>0?1:0,wallet_price:1==this.walletCheck&&this.walletDiscount>0?this.walletDiscount:0,notes:""==this.orderNotes||null==this.orderNotes?"NA":this.orderNotes,status:8};console.log("param-----\x3e",i),this.util.start(),this.api.post_private("v1/appoinments/create",i).then(s=>{if(console.log(s),this.util.stop(),s&&s.status&&200==s.status&&s.data&&s.data.id){const r=Math.round(100*this.serviceCart.grandTotal),u=s.data.id,m={amount:r,order_id:u};this.util.start(),this.api.post_private("v1/payments/stripeWebCheckout",m).then(n=>{if(console.log("stripe pay response",n),this.util.stop(),n&&n.status&&200==n.status&&n.success&&""!=n.success.url){const c={queryParams:{id:u,payLink:n.success.url}};this.serviceCart.clearCart(),this.router.navigate(["/await-payments"],c)}else{const c=JSON.parse(n.error);if(console.log("error message",c),c&&c.message)return this.util.errorMessage(c.message),!1;this.util.errorMessage(this.util.translate("Something went wrong while payments. please contact administrator"))}},n=>{console.log(n),this.util.stop(),this.util.apiErrorHandler(n)}).catch(n=>{console.log(n),this.util.stop(),this.util.apiErrorHandler(n)})}},s=>{console.log(s),this.util.stop(),this.util.apiErrorHandler(s)}).catch(s=>{console.log(s),this.util.stop(),this.util.apiErrorHandler(s)})}flutterwaveWeb(){this.util.start(),this.api.get_private("v1/getFlutterwaveKey").then(t=>{if(console.log(t),this.util.stop(),t&&t.status&&200==t.status&&t.data){const i=this.paymentMethodList.filter(s=>s.id==this.paymentId);console.log(i),FlutterwaveCheckout({public_key:t.data,tx_ref:""+Math.floor(1e9*Math.random()+1),amount:this.serviceCart.grandTotal,currency:i[0].currency_code,payment_options:"card, mobilemoneyghana, ussd",meta:{consumer_id:23,consumer_mac:"92a3-912ba-1192a"},customer:{email:this.getEmail(),phone_number:localStorage.getItem("mobile"),name:this.getName()},callback:s=>{console.log(s),document.getElementsByName("checkout")[0].setAttribute("style","position:fixed;top:0;left:0;z-index:-1;border:none;opacity:0;pointer-events:none;width:100%;height:100%;"),document.body.style.overflow="",this.createOrder(JSON.stringify(s))},onclose:s=>{console.log("closed",s)},customizations:{title:this.util.app_name,description:this.util.app_name+" Order",logo:this.api.mediaURL+this.util.logo}})}},t=>{console.log(t),this.util.stop(),this.util.apiErrorHandler(t)}).catch(t=>{console.log(t),this.util.stop(),this.util.apiErrorHandler(t)})}paystackWeb(){this.util.start(),this.api.get_private("v1/getPaystackKey").then(t=>{if(console.log(t),this.util.stop(),t&&t.status&&200==t.status&&t.data){const i=this.paymentMethodList.filter(a=>a.id==this.paymentId);console.log(i),PaystackPop.setup({key:t.data,currency:i[0].currency_code,email:this.getEmail(),amount:100*this.serviceCart.grandTotal,firstname:this.getFirstName(),lastname:this.getLastName(),ref:""+Math.floor(1e9*Math.random()+1),onClose:()=>{console.log("closed")},callback:a=>{console.log(a),this.createOrder(a.reference)}}).openIframe()}},t=>{console.log(t),this.util.stop(),this.util.apiErrorHandler(t)}).catch(t=>{console.log(t),this.util.stop(),this.util.apiErrorHandler(t)})}payWithInstaMOJOWeb(){var t=this;return(0,f.Z)(function*(){let i="";t.serviceCart.serviceCart.length>0?i=t.serviceCart.serviceCart[0].uid:t.serviceCart.packagesCart.length>0&&(i=t.serviceCart.packagesCart[0].uid);const s={uid:localStorage.getItem("uid"),freelancer_id:0,salon_id:i,specialist_id:t.selectedSpecialist,appointments_to:"home"==t.serviceAt?1:0,address:"home"==t.serviceAt?JSON.stringify(t.serviceCart.deliveredAddress):"NA",items:localStorage.getItem("userCart"),coupon_id:t.serviceCart&&t.serviceCart.coupon&&t.serviceCart.coupon.id?t.serviceCart.coupon.id:0,coupon:t.serviceCart&&t.serviceCart.coupon&&t.serviceCart.coupon.id?JSON.stringify(t.serviceCart.coupon):"NA",discount:t.serviceCart.discount,distance_cost:t.serviceCart.deliveryCharge,total:t.serviceCart.totalPrice,serviceTax:t.serviceCart.orderTax,grand_total:t.serviceCart.grandTotal,pay_method:t.paymentId,paid:"NA",save_date:t.selectedDate,slot:t.selectedSlotIndex,wallet_used:1==t.walletCheck&&t.walletDiscount>0?1:0,wallet_price:1==t.walletCheck&&t.walletDiscount>0?t.walletDiscount:0,notes:""==t.orderNotes||null==t.orderNotes?"NA":t.orderNotes,status:8};console.log("param-----\x3e",s),t.util.start(),t.api.post_private("v1/appoinments/create",s).then(a=>{if(console.log(a),t.util.stop(),a&&a.status&&200==a.status&&a.data&&a.data.id){const u=a.data.id,m={allow_repeated_payments:"False",amount:t.serviceCart.grandTotal,buyer_name:t.getName(),purpose:t.util.app_name+" Orders",redirect_url:t.api.baseUrl+"v1/instaMOJOWebSuccessAppointments?id="+u,phone:localStorage.getItem("mobile")&&null!=localStorage.getItem("mobile")?localStorage.getItem("mobile"):"",send_email:"True",webhook:t.api.baseUrl,send_sms:"True",email:t.getEmail()};t.util.start(),t.api.post_private("v1/payments/instamojoPay",m).then(n=>{if(console.log("instamojo response",n),t.util.stop(),n&&n.status&&200==n.status&&n.success&&1==n.success.success){const c={queryParams:{id:u,payLink:n.success.payment_request.longurl}};t.serviceCart.clearCart(),t.router.navigate(["/await-payments"],c)}else{const c=JSON.parse(n.error);if(console.log("error message",c),c&&c.message)return t.util.errorMessage(c.message),!1;t.util.errorMessage(t.util.translate("Something went wrong while payments. please contact administrator"))}},n=>{console.log(n),t.util.stop(),t.util.apiErrorHandler(n)}).catch(n=>{console.log(n),t.util.stop(),t.util.apiErrorHandler(n)})}},a=>{console.log(a),t.util.stop(),t.util.apiErrorHandler(a)}).catch(a=>{console.log(a),t.util.stop(),t.util.apiErrorHandler(a)})})()}payTmWeb(){var t=this;return(0,f.Z)(function*(){let i="";t.serviceCart.serviceCart.length>0?i=t.serviceCart.serviceCart[0].uid:t.serviceCart.packagesCart.length>0&&(i=t.serviceCart.packagesCart[0].uid);const s={uid:localStorage.getItem("uid"),freelancer_id:0,salon_id:i,specialist_id:t.selectedSpecialist,appointments_to:"home"==t.serviceAt?1:0,address:"home"==t.serviceAt?JSON.stringify(t.serviceCart.deliveredAddress):"NA",items:localStorage.getItem("userCart"),coupon_id:t.serviceCart&&t.serviceCart.coupon&&t.serviceCart.coupon.id?t.serviceCart.coupon.id:0,coupon:t.serviceCart&&t.serviceCart.coupon&&t.serviceCart.coupon.id?JSON.stringify(t.serviceCart.coupon):"NA",discount:t.serviceCart.discount,distance_cost:t.serviceCart.deliveryCharge,total:t.serviceCart.totalPrice,serviceTax:t.serviceCart.orderTax,grand_total:t.serviceCart.grandTotal,pay_method:t.paymentId,paid:"NA",save_date:t.selectedDate,slot:t.selectedSlotIndex,wallet_used:1==t.walletCheck&&t.walletDiscount>0?1:0,wallet_price:1==t.walletCheck&&t.walletDiscount>0?t.walletDiscount:0,notes:""==t.orderNotes||null==t.orderNotes?"NA":t.orderNotes,status:8};console.log("param-----\x3e",s),t.util.start(),t.api.post_private("v1/appoinments/create",s).then(a=>{if(console.log(a),t.util.stop(),a&&a.status&&200==a.status&&a.data&&a.data.id){const u={queryParams:{id:a.data.id,payLink:t.api.baseUrl+"v1/payNowWeb?amount="+t.serviceCart.grandTotal+"&standby_id="+a.data.id}};t.serviceCart.clearCart(),t.router.navigate(["/await-payments"],u)}},a=>{console.log(a),t.util.stop(),t.util.apiErrorHandler(a)}).catch(a=>{console.log(a),t.util.stop(),t.util.apiErrorHandler(a)})})()}payPalWebPay(){var t=this;this.util.start(),this.api.get_private("v1/getPayPalKey").then(function(){var i=(0,f.Z)(function*(s){if(console.log(s),t.util.stop(),s&&s.status&&200==s.status&&s.data){const a=t.paymentMethodList.filter(r=>r.id==t.paymentId);console.log(a),t.payPalModal.show(),t.initConfig(a[0].currency_code,s.data)}});return function(s){return i.apply(this,arguments)}}(),i=>{console.log(i),this.util.stop(),this.util.apiErrorHandler(i)}).catch(i=>{console.log(i),this.util.stop(),this.util.apiErrorHandler(i)})}initConfig(t,i){this.payPalConfig={currency:t,clientId:i,createOrderOnClient:s=>({intent:"CAPTURE",purchase_units:[{amount:{currency_code:t,value:this.serviceCart.grandTotal,breakdown:{item_total:{currency_code:t,value:this.serviceCart.grandTotal}}}}]}),advanced:{commit:"true"},style:{label:"paypal",layout:"vertical"},onApprove:(s,a)=>{console.log("onApprove - transaction was approved, but not authorized",s,a),a.order.get().then(r=>{console.log("onApprove - you can get full order details inside onApprove: ",r)})},onClientAuthorization:s=>{console.log("onClientAuthorization - you should probably inform your server about completed transaction at this point",s),this.payPalModal.hide(),this.createOrder(JSON.stringify(s))},onCancel:(s,a)=>{console.log("OnCancel",s,a)},onError:s=>{console.log("OnError",s)},onClick:(s,a)=>{console.log("onClick",s,a)}}}onOrderHistory(){this.successModal.hide();const t=(this.util.userInfo.first_name+"-"+this.util.userInfo.last_name).toLowerCase();this.router.navigate(["user",t,"appointment"])}onHome(){this.successModal.hide(),this.router.navigate([""])}createOrder(t){var i=this;return(0,f.Z)(function*(){console.log(i.address);let s="";i.serviceCart.serviceCart.length>0?s=i.serviceCart.serviceCart[0].uid:i.serviceCart.packagesCart.length>0&&(s=i.serviceCart.packagesCart[0].uid);const a={uid:localStorage.getItem("uid"),freelancer_id:0,salon_id:s,specialist_id:i.selectedSpecialist,appointments_to:"home"==i.serviceAt?1:0,address:"home"==i.serviceAt?JSON.stringify(i.serviceCart.deliveredAddress):"NA",items:localStorage.getItem("userCart"),coupon_id:i.serviceCart&&i.serviceCart.coupon&&i.serviceCart.coupon.id?i.serviceCart.coupon.id:0,coupon:i.serviceCart&&i.serviceCart.coupon&&i.serviceCart.coupon.id?JSON.stringify(i.serviceCart.coupon):"NA",discount:i.serviceCart.discount,distance_cost:i.serviceCart.deliveryCharge,total:i.serviceCart.totalPrice,serviceTax:i.serviceCart.orderTax,grand_total:i.serviceCart.grandTotal,pay_method:i.paymentId,paid:t,save_date:i.selectedDate,slot:i.selectedSlotIndex,wallet_used:1==i.walletCheck&&i.walletDiscount>0?1:0,wallet_price:1==i.walletCheck&&i.walletDiscount>0?i.walletDiscount:0,notes:""==i.orderNotes||null==i.orderNotes?"NA":i.orderNotes,status:0};console.log("param-----\x3e",a),i.util.start(),i.api.post_private("v1/appoinments/create",a).then(r=>{r&&200==r.status&&(i.util.stop(),console.log(r),i.serviceCart.clearCart(),i.successModal.show())},r=>{console.log("Error",r),i.util.stop(),i.util.apiErrorHandler(r)}).catch(r=>{console.log("Err",r),i.util.stop(),i.util.apiErrorHandler(r)})})()}walletChange(){if(this.balance<=0||this.serviceCart.coupon)return!1;if(console.log("ok"),this.walletCheck=!this.walletCheck,1==this.walletCheck){if(this.serviceCart&&this.serviceCart.coupon&&this.serviceCart.coupon.id)return this.util.errorMessage(this.util.translate("Sorry you have already added a offers discount to cart")),this.walletCheck=!1,!1;this.serviceCart.walletDiscount=parseFloat(this.balance),this.serviceCart.calcuate()}else this.serviceCart.walletDiscount=0,this.serviceCart.calcuate()}ngOnInit(){}razoryPayWeb(){this.util.start(),this.api.get_private("v1/getRazorPayKey").then(t=>{if(console.log(t),this.util.stop(),t&&t.status&&200==t.status&&t.data){const a=this.paymentMethodList.filter(r=>r.id==this.paymentId);console.log(a);var i={amount:this.serviceCart.grandTotal?100*this.serviceCart.grandTotal:5,email:this.getEmail(),logo:this.util&&this.util.logo?this.api.mediaURL+this.util.logo:"null",name:this.getName(),app_color:this.util&&this.util.app_color?this.util.app_color:"#f47878",key:t.data,currency:a[0].currency_code,description:this.util.app_name+" Order Of "+this.serviceCart.grandTotal+" amount",handler:r=>{console.log(r),this.verifyPurchaseRazorPay(r.razorpay_payment_id)}};console.log(i),new Razorpay(i).open()}},t=>{console.log(t),this.util.stop(),this.util.apiErrorHandler(t)}).catch(t=>{console.log(t),this.util.stop(),this.util.apiErrorHandler(t)})}getName(){return null!=localStorage.getItem("lastName")&&""!=localStorage.getItem("lastName")?localStorage.getItem("firstName")+" "+localStorage.getItem("lastName"):"Foodies"}getEmail(){return null!=localStorage.getItem("email")&&localStorage.getItem("email")?localStorage.getItem("email"):"info@initappz.com"}getFirstName(){return localStorage.getItem("firstName")&&null!=localStorage.getItem("firstName")?localStorage.getItem("firstName"):""}getLastName(){return localStorage.getItem("lastName")&&null!=localStorage.getItem("lastName")?localStorage.getItem("lastName"):""}verifyPurchaseRazorPay(t){this.util.start(),this.api.get_private("v1/payments/VerifyRazorPurchase?id="+t).then(i=>{console.log(i),i&&i.status&&200==i.status&&i.success&&i.success.status&&"captured"==i.success.status?(this.util.stop(),this.createOrder(JSON.stringify(i.success))):(this.util.stop(),this.util.errorMessage(this.util.translate("Something went wrong while payments. please contact administrator")))},i=>{console.log(i),this.util.stop(),this.util.errorMessage(this.util.translate("Something went wrong while payments. please contact administrator"))}).catch(i=>{console.log(i),this.util.stop(),this.util.errorMessage(this.util.translate("Something went wrong while payments. please contact administrator"))})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(C.F0),e.Y36(Z.f),e.Y36(A.s),e.Y36(C.gz),e.Y36(w.I))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-checkout"]],viewQuery:function(t,i){if(1&t&&(e.Gf(M,7),e.Gf(S,7),e.Gf(N,7),e.Gf(I,5),e.Gf(q,5),e.Gf(E,5),e.Gf(U,5),e.Gf(J,5)),2&t){let s;e.iGM(s=e.CRH())&&(i.deliveryAddress=s.first),e.iGM(s=e.CRH())&&(i.couponModal=s.first),e.iGM(s=e.CRH())&&(i.successModal=s.first),e.iGM(s=e.CRH())&&(i.payPalModal=s.first),e.iGM(s=e.CRH())&&(i.addressCollapse=s.first),e.iGM(s=e.CRH())&&(i.slotCollapse=s.first),e.iGM(s=e.CRH())&&(i.specialistCollapse=s.first),e.iGM(s=e.CRH())&&(i.idserviceCollapse=s.first)}},decls:206,vars:85,consts:[[1,"main-content","bg-light","p-1"],[1,"py-4","service-main-body"],[1,"container"],[1,"row"],[1,"col-lg-8"],[1,"pb-3"],[1,"bg-white","border-0","p-0"],[1,"mb-0","ff-medium","shadow-sm"],["type","button",1,"rounded","border-0","d-flex","align-items-center","bg-white","btn-block","px-3","py-4","m-0",3,"click"],[1,"c-number"],["mdbCollapse",""],["id1","bs-collapse"],[1,"card-body","p-0","border-top","shadow-sm","service-cart"],[1,"cart-items","bg-white","p-3"],["class","d-flex align-items-center mb-3",4,"ngFor","ngForOf"],[1,"mb-0","mt-2","ff-medium","shadow-sm"],["id3","bs-collapse"],[1,"card-body","p-0","border-top","shadow-sm"],[1,"bg-white","border-bottom","p-3"],[1,"d-flex","align-item-center","select-date"],[3,"click"],["fas","","icon","angle-left",4,"ngIf"],["class","border rounded mx-lg-2 mx-1",3,"disabled","click",4,"ngFor","ngForOf"],["fas","","icon","angle-right"],[1,"row","mt-2"],["class","col-md-6 px-lg-3 p-2 col-6 slot-list",4,"ngFor","ngForOf"],["id4","bs-collapse"],[2,"text-transform","uppercase"],["id5","bs-collapse"],[1,"mt-2"],["class","payment-list d-block",4,"ngFor","ngForOf"],[1,"pt-4"],["type","button","mdbBtn","","mdbWavesEffect","",1,"rounded","text-white","m-0","btn-color","btn-block",3,"click"],[1,"m-0","text-capitalize","ff-medium"],[4,"ngIf"],[1,"m-0","text-capitalize"],[1,"col-lg-4"],[1,"sticky_sidebar"],[1,"pd","bg-white","rounded","overflow-hidden","shadow-sm","mb-3","checkout-sidebar"],[1,"d-flex","align-items-center","profile","border-bottom","bg-white","p-3"],[1,"mr-3","rounded-circle","img-fluid",3,"ngStyle"],[1,"d-flex","flex-column"],[1,"mb-1","ff-bold"],[1,"px-3","pt-3","notes"],["type","text","rows","1","placeholder","Write Notes",1,"textarea",3,"ngModel","ngModelChange"],[1,"apply-coupon","mx-3",3,"click"],["fas","","icon","tags",1,"prefix","grey-text","pr-1"],[1,"wallet_box",3,"ngStyle"],[1,"head_lbl"],[1,"checkmark",3,"click"],["class","fas fa-check-circle",4,"ngIf"],["class","far fa-circle",4,"ngIf"],[1,"bg-white","px-3","py-2"],[1,"ff-bold","small"],[1,"mb-1"],["class","float-right text-dark",4,"ngIf"],["class","float-right text-danger",4,"ngIf"],[1,"p-3","border-top"],[1,"m-0","ff-medium","h5"],["class","float-right ff-medium h5 f-primary",4,"ngIf"],["mdbModal","","id","deliveryAddressModalTop","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade","center",2,"z-index","999999"],["deliveryAddress","mdbModal"],["role","document",1,"modal-dialog","modal-dialog-scrollable"],[1,"modal-content"],[1,"modal-header","text-center"],["class","modal-title w-100 ff-medium",4,"ngIf"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","mx-3"],[1,"md-form","mb-5"],["type","text","id","form34","mdbInput","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["for","form34"],["type","text","id","form29","mdbInput","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["for","form29"],["type","text","id","form32","mdbInput","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["for","form32"],[1,"md-form"],[1,"custom-select",3,"ngModel","ngModelChange"],["value","0","selected",""],["value","1"],["value","2"],[1,"modal-footer","d-flex","justify-content-center"],["mdbBtn","","color","light","mdbWavesEffect","",1,"waves-light","btn-color","text-dark",3,"click"],["mdbBtn","","class","waves-light btn-color text-white","mdbWavesEffect","",3,"click",4,"ngIf"],["mdbModal","","id","couponModalTop","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade","right",2,"z-index","999999"],["couponModal","mdbModal"],["role","document",1,"modal-dialog","modal-full-height","modal-right"],[1,"modal-title","w-100","ff-medium"],[1,"modal-body"],[4,"ngFor","ngForOf"],["mdbModal","","tabindex","-1","role","dialog","aria-labelledby","myBasicModalLabel","aria-hidden","true",1,"modal","fade",2,"z-index","999999"],["successModal","mdbModal"],["role","document",1,"modal-dialog","modal-notify","modal-success","modal-dialog-scrollable"],[1,"modal-title","w-100","ff-medium","text-white"],["aria-hidden","true",1,"white-text"],[1,"text-center","confirm-modal"],["src","assets/images/logo.png","alt","",2,"height","100px","width","100px"],[1,"confirm-bold","mt-3"],[1,"modal-footer","justify-content-center"],["type","button","mdbBtn","","color","success","outline","true","mdbWavesEffect","",1,"waves-effect",3,"click"],["type","button","mdbBtn","","color","success","mdbWavesEffect","",1,"waves-effect",3,"click"],["mdbModal","","id","frameModalTop","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade","center",2,"z-index","99999"],["payPalModal","mdbModal"],["role","document",1,"modal-dialog","modal-notify","modal-danger","modal-dialog-scrollable"],[1,"modal-header"],[1,"heading","lead",2,"text-align","center"],[3,"config"],[1,"d-flex","align-items-center","mb-3"],[1,"img-fluid",3,"ngStyle"],[1,"ml-3","text-dark","text-decoration-none","w-100"],[1,"head-text"],[1,"sub-text"],[1,"d-flex","align-items-center"],[1,"h6","text-muted","small","m-0","mr-3"],[1,"h5","ff-medium","f-primary","m-0"],["class","ff-medium head-text",4,"ngIf"],[1,"d-flex","ml-auto"],[1,"far","fa-check-square",2,"font-size","2rem","color","gray",3,"click"],[1,"ff-medium","head-text"],["fas","","icon","angle-left"],[1,"border","rounded","mx-lg-2","mx-1",3,"click"],[1,"lbl_day","body-text"],[1,"lbl_date","body-text"],[1,"col-md-6","px-lg-3","p-2","col-6","slot-list"],[1,"slot-name","mt-2","py-2","text-center","lbl_slot","border",3,"ngStyle","click"],[1,"text-center","ff-medium","body-text",3,"ngStyle"],[1,"d-flex","ml-auto",3,"click"],["class","far fa-circle","style","font-size: 1.5rem;color:gray;",4,"ngIf"],["class","fas fa-check-circle","style","font-size: 1.5rem;color:gray;",4,"ngIf"],[1,"far","fa-circle",2,"font-size","1.5rem","color","gray"],[1,"fas","fa-check-circle",2,"font-size","1.5rem","color","gray"],[1,"payment-list","d-block"],[1,"payment-name","mt-3","py-1","text-start","pl-3","d-flex","align-items-center","border",3,"ngStyle","click"],[1,"payment-img",3,"ngStyle"],[1,"text-center","pl-3",3,"ngStyle"],[1,"ml-auto","pr-3"],[1,"far","fa-check-circle",3,"ngStyle"],[1,"fas","fa-check-circle"],[1,"far","fa-circle"],[1,"float-right","text-dark"],[1,"float-right","text-danger"],[1,"float-right","ff-medium","h5","f-primary"],["mdbBtn","","mdbWavesEffect","",1,"waves-light","btn-color","text-white",3,"click"],[1,"border","p-3"],[1,"ff-bold","h6"],[1,"text-muted","pt-2"],[1,"outline-btn",3,"click"]],template:function(t,i){if(1&t){const s=e.EpF();e.TgZ(0,"div",0)(1,"section",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"button",8),e.NdJ("click",function(){e.CHM(s);const r=e.MAs(13);return e.KtG(r.toggle())}),e.TgZ(9,"span",9),e._uU(10,"*"),e.qZA(),e._uU(11),e.qZA()(),e.TgZ(12,"div",10,11)(14,"div",12)(15,"div",13),e.YNc(16,F,18,10,"div",14),e.YNc(17,Y,18,10,"div",14),e.qZA()()()()(),e.TgZ(18,"div",5)(19,"div",6)(20,"div",15)(21,"button",8),e.NdJ("click",function(){e.CHM(s);const r=e.MAs(26);return e.KtG(r.toggle())}),e.TgZ(22,"span",9),e._uU(23,"*"),e.qZA(),e._uU(24),e.qZA()(),e.TgZ(25,"div",10,16)(27,"div",17)(28,"div",18)(29,"div",19)(30,"div",20),e.NdJ("click",function(){return i.previousWeek()}),e.YNc(31,z,1,0,"mdb-icon",21),e.qZA(),e.YNc(32,K,5,8,"div",22),e.TgZ(33,"div",20),e.NdJ("click",function(){return i.nextWeek()}),e._UZ(34,"mdb-icon",23),e.qZA()(),e.TgZ(35,"div",24),e.YNc(36,G,4,8,"div",25),e.qZA()()()()()(),e.TgZ(37,"div",5)(38,"div",6)(39,"div",7)(40,"button",8),e.NdJ("click",function(){e.CHM(s);const r=e.MAs(45);return e.KtG(r.toggle())}),e.TgZ(41,"span",9),e._uU(42,"*"),e.qZA(),e._uU(43),e.qZA()(),e.TgZ(44,"div",10,26)(46,"div",12)(47,"div",13),e.YNc(48,$,10,6,"div",14),e.qZA()()()()(),e.TgZ(49,"div",5)(50,"div",6)(51,"div",15)(52,"button",8),e.NdJ("click",function(){e.CHM(s);const r=e.MAs(59);return e.KtG(r.toggle())}),e.TgZ(53,"span",9),e._uU(54,"*"),e.qZA(),e._uU(55),e.TgZ(56,"span",27),e._uU(57),e.qZA()()(),e.TgZ(58,"div",10,28)(60,"div",17)(61,"div",13)(62,"div",29),e.YNc(63,V,7,13,"div",30),e.qZA(),e.TgZ(64,"div",31)(65,"button",32),e.NdJ("click",function(){return i.onCheckout()}),e.TgZ(66,"div")(67,"div")(68,"h6",33),e._uU(69),e.YNc(70,X,2,2,"span",34),e.YNc(71,ee,2,2,"span",34),e.qZA(),e.TgZ(72,"p",35),e._uU(73),e.qZA()()()()()()()()()()(),e.TgZ(74,"div",36)(75,"div",37)(76,"div",38)(77,"div",39),e._UZ(78,"div",40),e.TgZ(79,"div",41)(80,"h6",42),e._uU(81),e.qZA()()(),e.TgZ(82,"div")(83,"div",43)(84,"textarea",44),e.NdJ("ngModelChange",function(r){return i.orderNotes=r}),e.qZA()(),e.TgZ(85,"div",45),e.NdJ("click",function(){return i.addCoupon()}),e.TgZ(86,"div"),e._UZ(87,"mdb-icon",46),e._uU(88),e.qZA()(),e.TgZ(89,"div",47)(90,"label",48),e._uU(91),e.qZA(),e.TgZ(92,"div",49),e.NdJ("click",function(){return i.walletChange()}),e.YNc(93,te,1,0,"i",50),e.YNc(94,ie,1,0,"i",51),e._uU(95),e.YNc(96,se,2,2,"span",34),e.YNc(97,oe,2,2,"span",34),e.qZA()(),e.TgZ(98,"div",52)(99,"p",53),e._uU(100),e.qZA(),e.TgZ(101,"p",54),e._uU(102),e.YNc(103,ae,2,2,"span",55),e.YNc(104,re,2,2,"span",55),e.qZA(),e.TgZ(105,"p",54),e._uU(106),e.YNc(107,le,2,2,"span",56),e.YNc(108,ne,2,2,"span",56),e.qZA(),e.TgZ(109,"p",54),e._uU(110),e.YNc(111,ce,2,2,"span",55),e.YNc(112,de,2,2,"span",55),e.qZA(),e.TgZ(113,"p",54),e._uU(114),e.YNc(115,ue,2,2,"span",55),e.YNc(116,pe,2,2,"span",55),e.qZA()(),e.TgZ(117,"div",57)(118,"h6",58),e._uU(119),e.YNc(120,he,2,2,"span",59),e.YNc(121,ge,2,2,"span",59),e.qZA()()()()()()()()()(),e.TgZ(122,"div",60,61)(124,"div",62)(125,"div",63)(126,"div",64),e.YNc(127,me,2,1,"h5",65),e.YNc(128,fe,2,1,"h5",65),e.TgZ(129,"button",66),e.NdJ("click",function(){e.CHM(s);const r=e.MAs(123);return e.KtG(r.hide())}),e.TgZ(130,"span",67),e._uU(131,"\xd7"),e.qZA()()(),e.TgZ(132,"div",68)(133,"div",69)(134,"input",70),e.NdJ("ngModelChange",function(r){return i.house=r}),e.qZA(),e.TgZ(135,"label",71),e._uU(136),e.qZA()(),e.TgZ(137,"div",69)(138,"input",70),e.NdJ("ngModelChange",function(r){return i.address=r}),e.qZA(),e.TgZ(139,"label",71),e._uU(140),e.qZA()(),e.TgZ(141,"div",69)(142,"input",72),e.NdJ("ngModelChange",function(r){return i.landmark=r}),e.qZA(),e.TgZ(143,"label",73),e._uU(144),e.qZA()(),e.TgZ(145,"div",69)(146,"input",74),e.NdJ("ngModelChange",function(r){return i.zipcode=r}),e.qZA(),e.TgZ(147,"label",75),e._uU(148),e.qZA()(),e.TgZ(149,"div",76)(150,"select",77),e.NdJ("ngModelChange",function(r){return i.title=r}),e.TgZ(151,"option",78),e._uU(152),e.qZA(),e.TgZ(153,"option",79),e._uU(154),e.qZA(),e.TgZ(155,"option",80),e._uU(156),e.qZA()()()(),e.TgZ(157,"div",81)(158,"button",82),e.NdJ("click",function(){e.CHM(s);const r=e.MAs(123);return e.KtG(r.hide())}),e._uU(159),e.qZA(),e.YNc(160,_e,2,1,"button",83),e.YNc(161,ve,2,1,"button",83),e.qZA()()()(),e.TgZ(162,"div",84,85)(164,"div",86)(165,"div",63)(166,"div",64)(167,"h6",87),e._uU(168),e.qZA(),e.TgZ(169,"button",66),e.NdJ("click",function(){e.CHM(s);const r=e.MAs(163);return e.KtG(r.hide())}),e.TgZ(170,"span",67),e._uU(171,"\xd7"),e.qZA()()(),e.TgZ(172,"div",88),e.YNc(173,Ce,10,3,"div",89),e.qZA()()()(),e.TgZ(174,"div",90,91)(176,"div",92)(177,"div",63)(178,"div",64)(179,"h6",93),e._uU(180),e.qZA(),e.TgZ(181,"button",66),e.NdJ("click",function(){e.CHM(s);const r=e.MAs(175);return e.KtG(r.hide())}),e.TgZ(182,"span",94),e._uU(183,"\xd7"),e.qZA()()(),e.TgZ(184,"div",88)(185,"div",95),e._UZ(186,"img",96),e.TgZ(187,"h6",97),e._uU(188),e.qZA()()(),e.TgZ(189,"div",98)(190,"a",99),e.NdJ("click",function(){return i.onHome()}),e._uU(191),e.qZA(),e.TgZ(192,"a",100),e.NdJ("click",function(){return i.onOrderHistory()}),e._uU(193),e.qZA()()()()(),e.TgZ(194,"div",101,102)(196,"div",103)(197,"div",63)(198,"div",104)(199,"p",105),e._uU(200),e.qZA(),e.TgZ(201,"button",66),e.NdJ("click",function(){e.CHM(s);const r=e.MAs(195);return e.KtG(r.hide())}),e.TgZ(202,"span",94),e._uU(203,"\xd7"),e.qZA()()(),e.TgZ(204,"div",88),e._UZ(205,"ngx-paypal",106),e.qZA()()()()}2&t&&(e.xp6(11),e.lnq(" ",i.util.translate("Cart")," (",i.serviceCart.totalItemInCart," ",i.util.translate("items")," ) "),e.xp6(5),e.Q6J("ngForOf",i.serviceCart.serviceCart),e.xp6(1),e.Q6J("ngForOf",i.serviceCart.packagesCart),e.xp6(7),e.AsE("",i.util.translate("Select Time")," ",i.selectedSlotIndex," "),e.xp6(7),e.Q6J("ngIf",0!=i.currentWeek),e.xp6(1),e.Q6J("ngForOf",i.days),e.xp6(4),e.Q6J("ngForOf",i.slotList),e.xp6(7),e.AsE(" ",i.util.translate("Select Specialist")," ",i.specialistName," "),e.xp6(5),e.Q6J("ngForOf",i.specialist),e.xp6(7),e.hij("",i.util.translate("Payment")," "),e.xp6(2),e.hij(" \xa0 ",i.payMethodName,""),e.xp6(6),e.Q6J("ngForOf",i.paymentMethodList),e.xp6(6),e.hij(" ",i.util.translate("Grand Total")," "),e.xp6(1),e.Q6J("ngIf","left"==i.util.currencySide),e.xp6(1),e.Q6J("ngIf","right"==i.util.currencySide),e.xp6(2),e.hij(" ",i.util.translate("Proceed to Checkout")," "),e.xp6(5),e.Q6J("ngStyle",e.VKq(77,_,"url("+i.api.mediaURL+i.freelancerCover+"),url(assets/images/placeholder.jpg)")),e.xp6(3),e.Oqu(i.freelancerName),e.xp6(3),e.Q6J("ngModel",i.orderNotes),e.xp6(4),e.hij(" ",i.util.translate("Apply Coupon")," "),e.xp6(1),e.Q6J("ngStyle",e.VKq(79,y,i.balance<=0||i.serviceCart.coupon?"gray":"black")),e.xp6(2),e.AsE("",i.util.app_name," ",i.util.translate("Wallet Balance")," "),e.xp6(2),e.Q6J("ngIf",1==i.walletCheck),e.xp6(1),e.Q6J("ngIf",0==i.walletCheck),e.xp6(1),e.hij(" ",i.util.translate("Available Balance")," "),e.xp6(1),e.Q6J("ngIf","left"==i.util.cside),e.xp6(1),e.Q6J("ngIf","right"==i.util.cside),e.xp6(3),e.Oqu(i.util.translate("Bill Details")),e.xp6(2),e.hij(" ",i.util.translate("Service Total")," "),e.xp6(1),e.Q6J("ngIf","left"==i.util.currencySide),e.xp6(1),e.Q6J("ngIf","right"==i.util.currencySide),e.xp6(2),e.hij(" ",i.util.translate("Total Discount")," "),e.xp6(1),e.Q6J("ngIf","left"==i.util.currencySide),e.xp6(1),e.Q6J("ngIf","right"==i.util.currencySide),e.xp6(2),e.hij("",i.util.translate("Taxes and Charges")," "),e.xp6(1),e.Q6J("ngIf","left"==i.util.currencySide),e.xp6(1),e.Q6J("ngIf","right"==i.util.currencySide),e.xp6(2),e.hij("",i.util.translate("Distance Charge")," "),e.xp6(1),e.Q6J("ngIf","left"==i.util.currencySide),e.xp6(1),e.Q6J("ngIf","right"==i.util.currencySide),e.xp6(3),e.hij("",i.util.translate("To Pay")," "),e.xp6(1),e.Q6J("ngIf","left"==i.util.currencySide),e.xp6(1),e.Q6J("ngIf","right"==i.util.currencySide),e.xp6(6),e.Q6J("ngIf",1==i.isNewAddress),e.xp6(1),e.Q6J("ngIf",0==i.isNewAddress),e.xp6(6),e.Q6J("ngModel",i.house)("ngModelOptions",e.DdM(81,k)),e.xp6(2),e.hij("",i.util.translate("House / Flat NO")," "),e.xp6(2),e.Q6J("ngModel",i.address)("ngModelOptions",e.DdM(82,k)),e.xp6(2),e.hij("",i.util.translate("Address")," "),e.xp6(2),e.Q6J("ngModel",i.landmark)("ngModelOptions",e.DdM(83,k)),e.xp6(2),e.hij("",i.util.translate("Landmark")," "),e.xp6(2),e.Q6J("ngModel",i.zipcode)("ngModelOptions",e.DdM(84,k)),e.xp6(2),e.hij("",i.util.translate("Pincode")," "),e.xp6(2),e.Q6J("ngModel",i.title),e.xp6(2),e.hij("",i.util.translate("Home")," "),e.xp6(2),e.hij("",i.util.translate("Office")," "),e.xp6(2),e.hij("",i.util.translate("Other")," "),e.xp6(3),e.hij("",i.util.translate("Cancel")," "),e.xp6(1),e.Q6J("ngIf",1==i.isNewAddress),e.xp6(1),e.Q6J("ngIf",0==i.isNewAddress),e.xp6(7),e.hij("",i.util.translate("Available Coupons")," "),e.xp6(5),e.Q6J("ngForOf",i.offersList),e.xp6(7),e.hij("",i.util.translate("Order Success")," "),e.xp6(8),e.hij("",i.util.translate("Thank You! for your order")," "),e.xp6(3),e.hij("",i.util.translate("Back To Home")," "),e.xp6(2),e.hij(" ",i.util.translate("Track My Order")," "),e.xp6(7),e.hij(" ",i.util.translate("Pay with PayPal")," "),e.xp6(5),e.Q6J("config",i.payPalConfig))},dependencies:[v.sg,v.O5,v.PC,h.mT,h.b6,h.Hq,h.WF,h.oB,h.Ui,h.XI,g.YN,g.Kr,g.Fj,g.EJ,g.JJ,g.On,T.nu],styles:['@charset "UTF-8";']}),o})()}];let ke=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[C.Bz.forChild(ye),C.Bz]}),o})(),xe=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[v.ez,ke,h.yi.forRoot(),g.u5,T.vj]}),o})()}}]);