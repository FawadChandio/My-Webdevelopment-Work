"use strict";(self.webpackChunksalon_web=self.webpackChunksalon_web||[]).push([[280],{8559:(pt,T,d)=>{d.r(T),d.d(T,{ProductCheckoutModule:()=>dt});var g=d(6895),f=d(4553),m=d(5861),_=d(5439),t=d(4650),A=d(7241),k=d(5830),x=d(4811),u=d(7890),h=d(4006),b=d(5470);const w=["deliveryAddress"],Z=["couponModal"],M=["successModal"],I=["payPalModal"],N=["id2"];function P(i,l){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit,o=t.oxw();t.xp6(1),t.AsE(" ",o.util.currencySymbol," ",e.original_price," ")}}function q(i,l){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit,o=t.oxw();t.xp6(1),t.AsE(" ",e.original_price," ",o.util.currencySymbol," ")}}function S(i,l){if(1&i&&(t.TgZ(0,"span",111),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit,o=t.oxw();t.xp6(1),t.AsE(" ",o.util.currencySymbol," ",e.sell_price," ")}}function U(i,l){if(1&i&&(t.TgZ(0,"span",111),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit,o=t.oxw();t.xp6(1),t.AsE(" ",e.sell_price," ",o.util.currencySymbol," ")}}function E(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",112)(1,"div",113),t.NdJ("click",function(){t.CHM(e);const r=t.oxw().index,a=t.oxw();return t.KtG(a.remove(r))}),t._UZ(2,"mdb-icon",114),t.qZA(),t.TgZ(3,"h6",115),t._uU(4),t.qZA(),t.TgZ(5,"div",113),t.NdJ("click",function(){t.CHM(e);const r=t.oxw().index,a=t.oxw();return t.KtG(a.add(r))}),t._UZ(6,"mdb-icon",116),t.qZA()()}if(2&i){const e=t.oxw().$implicit;t.xp6(4),t.Oqu(e.quantity)}}const y=function(i){return{"background-image":i}};function J(i,l){if(1&i&&(t.TgZ(0,"div",102)(1,"a"),t._UZ(2,"img",103),t.qZA(),t.TgZ(3,"a",104)(4,"h6",105),t._uU(5),t.qZA(),t.TgZ(6,"div",106)(7,"p",107)(8,"del"),t.YNc(9,P,2,2,"span",31),t.YNc(10,q,2,2,"span",31),t.qZA()(),t.TgZ(11,"p",108),t.YNc(12,S,2,2,"span",109),t.YNc(13,U,2,2,"span",109),t.qZA(),t.YNc(14,E,7,1,"div",110),t.qZA()()()),2&i){const e=l.$implicit,o=t.oxw();t.xp6(2),t.Q6J("ngStyle",t.VKq(7,y,"url("+o.api.mediaURL+e.cover+"),url(assets/images/placeholder.jpg)")),t.xp6(3),t.Oqu(e.name),t.xp6(4),t.Q6J("ngIf","left"==o.util.currencySide),t.xp6(1),t.Q6J("ngIf","right"==o.util.currencySide),t.xp6(2),t.Q6J("ngIf","left"==o.util.currencySide),t.xp6(1),t.Q6J("ngIf","right"==o.util.currencySide),t.xp6(1),t.Q6J("ngIf",o.productCart.itemId.includes(e.id))}}function O(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",117)(1,"div",118)(2,"p",119),t._uU(3),t.qZA(),t.TgZ(4,"div",120)(5,"a",121),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.onEditAddress(r.productCart.deliveredAddress))}),t._uU(6),t.qZA()()(),t.TgZ(7,"p",122),t._uU(8),t.qZA()()}if(2&i){const e=t.oxw();t.xp6(3),t.hij(" ",e.addressTitle[e.productCart.deliveredAddress.title]," "),t.xp6(3),t.Oqu(e.util.translate("EDIT")),t.xp6(2),t.HOy(" ",e.productCart.deliveredAddress.address," ",e.productCart.deliveredAddress.house," ",e.productCart.deliveredAddress.landmark," - ",e.productCart.deliveredAddress.pincode,",")}}function H(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",123)(1,"div",124)(2,"div",118)(3,"p",119),t._uU(4),t.qZA(),t.TgZ(5,"div",120)(6,"a",121),t.NdJ("click",function(){const a=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.onEditAddress(a))}),t._uU(7),t.qZA()()(),t.TgZ(8,"p",122),t._uU(9),t.qZA(),t.TgZ(10,"div",125),t.NdJ("click",function(){const a=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.selectAddress(a))}),t._uU(11),t.qZA()()()}if(2&i){const e=l.$implicit,o=t.oxw();t.xp6(4),t.hij("",o.addressTitle[e.title]," "),t.xp6(3),t.Oqu(o.util.translate("EDIT")),t.xp6(2),t.HOy("",e.house," ",e.address," ",e.landmark," ",e.pincode,""),t.xp6(2),t.hij(" ",o.util.translate("Deliver Here")," ")}}const Q=function(i){return{"background-color":i}},v=function(i){return{color:i}};function F(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",126)(1,"a",127),t.NdJ("click",function(){const a=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.savePayment(a.id))}),t._UZ(2,"div",128),t.TgZ(3,"a",129),t._uU(4),t.qZA(),t.TgZ(5,"a",130),t._UZ(6,"i",131),t.qZA()()()}if(2&i){const e=l.$implicit,o=t.oxw();t.xp6(1),t.Q6J("ngStyle",t.VKq(5,Q,o.paymentId==e.id?"#0b19df":null)),t.xp6(1),t.Q6J("ngStyle",t.VKq(7,y,"url("+o.api.mediaURL+e.cover+"),url(assets/images/placeholder.jpg)")),t.xp6(1),t.Q6J("ngStyle",t.VKq(9,v,o.paymentId==e.id?"white":null)),t.xp6(1),t.hij(" ",e.name,""),t.xp6(2),t.Q6J("ngStyle",t.VKq(11,v,"white"))}}function D(i,l){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.AsE("",e.util.currencySymbol," ",e.productCart.grandTotal,"")}}function L(i,l){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.AsE("",e.productCart.grandTotal," ",e.util.currencySymbol,"")}}function j(i,l){1&i&&t._UZ(0,"i",132)}function z(i,l){1&i&&t._UZ(0,"i",133)}function Y(i,l){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.AsE(" ",e.util.currecny," ",e.balance," ")}}function K(i,l){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.AsE(" ",e.balance," ",e.util.currecny," ")}}function W(i,l){if(1&i&&(t.TgZ(0,"span",134),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.AsE("",e.util.currencySymbol," ",e.productCart.totalPrice,"")}}function G(i,l){if(1&i&&(t.TgZ(0,"span",134),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.AsE("",e.productCart.totalPrice," ",e.util.currencySymbol,"")}}function R(i,l){if(1&i&&(t.TgZ(0,"span",135),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.AsE("",e.util.currencySymbol," -",e.productCart.discount,"")}}function B(i,l){if(1&i&&(t.TgZ(0,"span",135),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.AsE("-",e.productCart.discount," ",e.util.currencySymbol,"")}}function $(i,l){if(1&i&&(t.TgZ(0,"span",134),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.AsE("",e.util.currencySymbol," ",e.productCart.orderTax,"")}}function V(i,l){if(1&i&&(t.TgZ(0,"span",134),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.AsE("",e.productCart.orderTax," ",e.util.currencySymbol,"")}}function X(i,l){if(1&i&&(t.TgZ(0,"span",134),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.AsE("",e.util.currencySymbol," ",e.productCart.deliveryCharge,"")}}function tt(i,l){if(1&i&&(t.TgZ(0,"span",134),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.AsE("",e.productCart.deliveryCharge," ",e.util.currencySymbol,"")}}function et(i,l){if(1&i&&(t.TgZ(0,"span",136),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.AsE("",e.util.currencySymbol," ",e.productCart.grandTotal,"")}}function ot(i,l){if(1&i&&(t.TgZ(0,"span",136),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.AsE("",e.productCart.grandTotal," ",e.util.currencySymbol,"")}}function it(i,l){if(1&i&&(t.TgZ(0,"h5",82),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.hij(" ",e.util.translate("Add Delivery Address"),"")}}function rt(i,l){if(1&i&&(t.TgZ(0,"h5",82),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.hij(" ",e.util.translate("Update Delivery Address"),"")}}function at(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"button",137),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.getLatLngFromAddress())}),t._uU(1),t.qZA()}if(2&i){const e=t.oxw();t.xp6(1),t.Oqu(e.util.translate("Add"))}}function st(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"button",137),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.getLatLngFromAddress())}),t._uU(1),t.qZA()}if(2&i){const e=t.oxw();t.xp6(1),t.Oqu(e.util.translate("Update"))}}function lt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"div",138)(2,"p")(3,"span",139),t._uU(4),t.qZA(),t._UZ(5,"br"),t.TgZ(6,"span",140),t._uU(7),t.qZA()(),t.TgZ(8,"div",141),t.NdJ("click",function(){const a=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.selectedOffers(a))}),t._uU(9),t.qZA()()()}if(2&i){const e=l.$implicit,o=t.oxw();t.xp6(4),t.Oqu(e.name),t.xp6(3),t.hij("",e.short_descriptions," "),t.xp6(2),t.hij(" ",o.util.translate("Claim Coupon")," ")}}const C=function(){return{standalone:!0}},nt=[{path:"",component:(()=>{class i{constructor(e,o,r,a,s){this.router=e,this.util=o,this.api=r,this.navParam=a,this.productCart=s,this.checkModel={left:!0,middle:!1,right:!1},this.radioModel="Left",this.addressList=[],this.addressTitle=["Home","Office","Other"],this.addressId=0,this.title="",this.address="",this.house="",this.landmark="",this.zipcode="",this.lat=0,this.lng=0,this.isNewAddress=!0,this.offersList=[],this.productList=[],this.paymentId="",this.payMethodName="",this.freelancerCover="",this.freelancerName="",this.rating="",this.totalRating="",this.paymentMethodList=[],this.balance=0,this.walletDiscount=0,this.walletCheck=!1,this.ownerType="",this.productCart&&this.productCart.cart&&this.productCart.cart.length>0?setTimeout(()=>{this.getAddress(),this.getPayments(),this.getFreelancerByID(),this.getWalletAmount()},1e3):this.router.navigate([""])}getWalletAmount(){this.api.post_private("v1/profile/getMyWalletBalance",{id:localStorage.getItem("uid")}).then(e=>{console.log("------------------",e),e&&e.status&&200==e.status&&e.data&&(this.balance=parseFloat(e.data.balance),this.walletDiscount=parseFloat(e.data.balance),console.log(this.balance,this.walletDiscount))},e=>{console.log(e)}).catch(e=>{console.log(e)})}getFreelancerByID(){this.api.post("v1/freelancer/getByUID",{id:this.productCart.cart[0].freelacer_id}).then(o=>{o&&200==o.status&&(console.log(o),"individual"==o.data.type?(this.freelancerCover=o.data.cover,this.freelancerName=o.data.first_name+" "+o.data.last_name,this.rating=o.data.ownerInfo.rating,this.totalRating=o.data.ownerInfo.total_rating,this.ownerType="individual",this.productCart.storeInfo=o.data.ownerInfo):(this.freelancerCover=o.data.ownerInfo.cover,this.freelancerName=o.data.ownerInfo.name,this.rating=o.data.ownerInfo.rating,this.totalRating=o.data.ownerInfo.total_rating,this.productCart.storeInfo=o.data.ownerInfo,this.ownerType="salon"))},o=>{console.log("Error",o),this.util.apiErrorHandler(o)}).catch(o=>{console.log("Err",o),this.util.apiErrorHandler(o)})}remove(e){console.log(this.productCart.cart[e]),1==this.productCart.cart[e].quantity?(this.productCart.cart[e].quantity=0,this.removeItem(this.productCart.cart[e].id)):(this.productCart.cart[e].quantity=this.productCart.cart[e].quantity-1,this.productCart.updateQuantity(this.productCart.cart[e].id,this.productCart.cart[e].quantity))}add(e){console.log(this.productCart.cart[e]),this.productCart.cart[e].quantity=this.productCart.cart[e].quantity+1,this.productCart.updateQuantity(this.productCart.cart[e].id,this.productCart.cart[e].quantity)}removeItem(e){console.log("remove this item from cart"),console.log("current cart items",this.productCart.cart),this.productCart.cart=this.productCart.cart.filter(o=>o.id!==e),this.productCart.itemId=this.productCart.itemId.filter(o=>o!==e),console.log("===>>>>>>>>>",this.productCart.cart),console.log("items===>>>",this.productCart.itemId),this.productCart.calcuate(),0==this.productCart.cart.length&&this.router.navigate([""])}getAddress(){const e={id:localStorage.getItem("uid")};this.api.post_private("v1/address/getByUID",e).then(o=>{o&&200==o.status&&(console.log(o),this.addressList=o.data,console.log(this.addressList))},o=>{console.log("Error",o),this.util.apiErrorHandler(o)}).catch(o=>{console.log("Err",o),this.util.apiErrorHandler(o)})}getLatLngFromAddress(){if(""==this.address||""==this.house||""==this.landmark||""==this.zipcode)return this.util.apiErrorHandler(this.util.translate("all fields are required")),!1;const e=new google.maps.Geocoder;this.util.start(),e.geocode({address:this.house+" "+this.landmark+" "+this.address+" "+this.zipcode},(o,r)=>{if(console.log(o,r),"OK"!=r||!o||!o.length)return this.util.stop(),this.util.errorMessage(this.util.translate("Something went wrong")),!1;this.lat=o[0].geometry.location.lat(),this.lng=o[0].geometry.location.lng(),console.log("-----\x3e",this.lat,this.lng),1==this.isNewAddress?this.saveAddress():this.updateAddress()})}saveAddress(){if(""==this.address||""==this.house||""==this.landmark||""==this.zipcode)return this.util.apiErrorHandler(this.util.translate("all fields are required")),!1;const e={uid:localStorage.getItem("uid"),title:this.title,address:this.address,house:this.house,landmark:this.landmark,pincode:this.zipcode,lat:this.lat,lng:this.lng,status:1};this.util.start(),this.api.post_private("v1/address/save",e).then(o=>{o&&200==o.status&&(this.util.stop(),console.log(o),this.deliveryAddress.hide(),this.getAddress(),this.util.suucessMessage(this.util.translate(this.util.translate("Address Added"))))},o=>{console.log("Error",o),this.util.stop(),this.util.apiErrorHandler(o)}).catch(o=>{console.log("Err",o),this.util.stop(),this.util.apiErrorHandler(o)})}addNewAddress(){this.isNewAddress=!0,this.house="",this.landmark="",this.address="",this.addressId=0,this.zipcode="",this.deliveryAddress.show()}onEditAddress(e){this.addressId=e.id,this.isNewAddress=!1,this.address=e.address,this.house=e.house,this.landmark=e.landmark,this.zipcode=e.pincode,this.title=e.title,this.deliveryAddress.show()}updateAddress(){const e={uid:localStorage.getItem("uid"),title:this.title,address:this.address,id:this.addressId,house:this.house,landmark:this.landmark,pincode:this.zipcode,lat:this.lat,lng:this.lng,status:1};this.util.start(),this.api.post_private("v1/address/update",e).then(o=>{o&&200==o.status&&(this.util.stop(),this.deliveryAddress.hide(),this.getAddress(),console.log(o),this.util.suucessMessage(this.util.translate("Address Updated")))},o=>{console.log("Error",o),this.util.stop(),this.util.apiErrorHandler(o)}).catch(o=>{console.log("Err",o),this.util.stop(),this.util.apiErrorHandler(o)})}selectAddress(e){console.log(e),this.calculateDistance(e.lat,e.lng,e),this.collapse.toggle()}calculateDistance(e,o,r){var a=this;return(0,m.Z)(function*(){let s;console.log(a.productCart.deliveredAddress),console.log(a.productCart.storeInfo),s=a.productCart.storeInfo&&a.productCart.storeInfo.lat?yield a.distanceInKmBetweenEarthCoordinates(e,o,a.productCart.storeInfo.lat,a.productCart.storeInfo.lng):0,console.log(s,a.util.allowDistance),s>parseFloat(a.util.allowDistance)?a.util.errorMessage(a.util.translate("Sorry we deliver the order near to "+a.util.allowDistance)):(0==a.util.deliveryType?(a.productCart.deliveryCharge=s*a.util.deliveryCharge,a.productCart.deliveredAddress=r):a.productCart.deliveryCharge=a.util.deliveryCharge,a.productCart.deliveryCharge=parseFloat(a.productCart.deliveryCharge).toFixed(2),a.productCart.calculateAllCharges()),console.log("delivery charge",a.productCart.deliveryCharge)})()}distanceInKmBetweenEarthCoordinates(e,o,r,a){console.log(e,o,r,a);const p=this.degreesToRadians(r-e),n=this.degreesToRadians(a-o);e=this.degreesToRadians(e),r=this.degreesToRadians(r);const c=Math.sin(p/2)*Math.sin(p/2)+Math.sin(n/2)*Math.sin(n/2)*Math.cos(e)*Math.cos(r);return 2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c))*6371}degreesToRadians(e){return e*Math.PI/180}addCoupon(){this.getActiveOffers(),this.couponModal.show()}removeOffer(){this.productCart.coupon=null,this.productCart.calcuate(),localStorage.removeItem("selectedOffer")}selectedOffers(e){if(this.productCart&&this.productCart.walletDiscount&&this.productCart.walletDiscount>0)return this.util.errorMessage(this.util.translate("Sorry you have already added a wallet discount to cart")),!1;console.log(e,this.productCart.storeInfo);const o=e.freelancer_ids.split(",").map(Number);console.log(o),console.log(o.includes(this.productCart.storeInfo.uid)),o.includes(this.productCart.storeInfo.uid)?(this.productCart.coupon=e,this.productCart.calculateAllCharges(),this.couponModal.hide()):this.util.errorMessage(this.util.translate("This coupon is not valid for ")+this.freelancerName)}walletChange(){if(this.balance<=0||this.productCart.coupon)return!1;if(console.log("ok"),this.walletCheck=!this.walletCheck,1==this.walletCheck){if(this.productCart&&this.productCart.coupon&&this.productCart.coupon.id)return this.util.errorMessage(this.util.translate("Sorry you have already added a offers discount to cart")),this.walletCheck=!1,!1;this.productCart.walletDiscount=parseFloat(this.balance),this.productCart.calcuate()}else this.productCart.walletDiscount=0,this.productCart.calcuate()}getActiveOffers(){this.util.start(),this.api.get_private("v1/offers/getActive").then(e=>{this.util.stop(),e&&200==e.status&&(console.log(e),this.offersList=e.data,console.log(this.offersList))},e=>{console.log("Error",e),this.util.stop(),this.util.apiErrorHandler(e)}).catch(e=>{console.log("Err",e),this.util.stop(),this.util.apiErrorHandler(e)})}getPayments(){this.api.get_private("v1/payments/getPayments").then(e=>{e&&200==e.status&&(console.log(e),this.paymentMethodList=e.data,console.log(this.paymentMethodList),this.paymentMethodList.filter(s=>8==s.id).length&&this.util.loadScript("https://checkout.flutterwave.com/v3.js"),this.paymentMethodList.filter(s=>7==s.id).length&&this.util.loadScript("https://js.paystack.co/v1/inline.js"),this.paymentMethodList.filter(s=>5==s.id).length&&this.util.loadScript("https://checkout.razorpay.com/v1/checkout.js"))},e=>{console.log("Error",e),this.util.apiErrorHandler(e)}).catch(e=>{console.log("Err",e),this.util.apiErrorHandler(e)})}savePayment(e){console.log(e),this.paymentId=e,1==this.paymentId?this.payMethodName="cod":2==this.paymentId?this.payMethodName="stripe":3==this.paymentId?this.payMethodName="paypal":4==this.paymentId?this.payMethodName="paytm":5==this.paymentId?this.payMethodName="razorpay":6==this.paymentId?this.payMethodName="instamojo":7==this.paymentId?this.payMethodName="paystack":8==this.paymentId&&(this.payMethodName="flutterwave")}onCheckout(){if(!this.productCart.deliveredAddress||!this.productCart.deliveredAddress.address||!this.productCart.deliveredAddress.lat)return console.log("Please select Address"),this.util.errorMessage(this.util.translate("Please select Address")),!1;0!=this.paymentId?1==this.paymentId?this.createOrder("COD"):2==this.paymentId?this.stripeWebCheckout():3==this.paymentId?this.payPalWebPay():4==this.paymentId?this.payTmWeb():5==this.paymentId?this.razoryPayWeb():6==this.paymentId?this.payWithInstaMOJOWeb():7==this.paymentId?this.paystackWeb():8==this.paymentId&&this.flutterwaveWeb():this.util.errorMessage(this.util.translate("Please select payment method"))}stripeWebCheckout(){console.log("Stripe Web Checkout");const e={uid:localStorage.getItem("uid"),freelancer_id:"individual"==this.ownerType?this.productCart.cart[0].freelacer_id:0,salon_id:"salon"==this.ownerType?this.productCart.cart[0].freelacer_id:0,date_time:_().format().split("T")[0],paid_method:this.paymentId,order_to:"home",orders:JSON.stringify(this.productCart.cart),notes:"NA",address:JSON.stringify(this.productCart.deliveredAddress),total:this.productCart.totalPrice,tax:this.productCart.orderTax,grand_total:this.productCart.grandTotal,discount:this.productCart.discount,driver_id:0,delivery_charge:this.productCart.deliveryCharge,wallet_used:1==this.walletCheck&&this.walletDiscount>0?1:0,wallet_price:1==this.walletCheck&&this.walletDiscount>0?this.walletDiscount:0,coupon_id:this.productCart&&this.productCart.coupon&&this.productCart.coupon.id?this.productCart.coupon.id:"NA",coupon_code:this.productCart&&this.productCart.coupon&&this.productCart.coupon.id?JSON.stringify(this.productCart.coupon):"NA",extra:"NA",pay_key:"NA",status:8,payStatus:1};console.log("param-----\x3e",e),this.util.start(),this.api.post_private("v1/product_order/save",e).then(o=>{if(console.log(o),this.util.stop(),o&&o.status&&200==o.status&&o.data&&o.data.id){const a=Math.round(100*this.productCart.grandTotal),s=o.data.id,p={amount:a,order_id:s};this.util.start(),this.api.post_private("v1/payments/stripeWebCheckoutProducts",p).then(n=>{if(console.log("instamojo response",n),this.util.stop(),n&&n.status&&200==n.status&&n.success&&""!=n.success.url){const c={queryParams:{id:s,payLink:n.success.url}};this.productCart.clearCart(),this.router.navigate(["/await-payments-product"],c)}else{const c=JSON.parse(n.error);if(console.log("error message",c),c&&c.message)return this.util.errorMessage(c.message),!1;this.util.errorMessage(this.util.translate("Something went wrong while payments. please contact administrator"))}},n=>{console.log(n),this.util.stop(),this.util.apiErrorHandler(n)}).catch(n=>{console.log(n),this.util.stop(),this.util.apiErrorHandler(n)})}},o=>{console.log(o),this.util.stop(),this.util.apiErrorHandler(o)}).catch(o=>{console.log(o),this.util.stop(),this.util.apiErrorHandler(o)})}createOrder(e){var o=this;return(0,m.Z)(function*(){console.log(o.address);const r={uid:localStorage.getItem("uid"),freelancer_id:"individual"==o.ownerType?o.productCart.cart[0].freelacer_id:0,salon_id:"salon"==o.ownerType?o.productCart.cart[0].freelacer_id:0,date_time:_().format().split("T")[0],paid_method:o.paymentId,order_to:"home",orders:JSON.stringify(o.productCart.cart),notes:"NA",address:JSON.stringify(o.productCart.deliveredAddress),total:o.productCart.totalPrice,tax:o.productCart.orderTax,grand_total:o.productCart.grandTotal,discount:o.productCart.discount,driver_id:0,delivery_charge:o.productCart.deliveryCharge,wallet_used:1==o.walletCheck&&o.walletDiscount>0?1:0,wallet_price:1==o.walletCheck&&o.walletDiscount>0?o.walletDiscount:0,coupon_id:o.productCart&&o.productCart.coupon&&o.productCart.coupon.id?o.productCart.coupon.id:"NA",coupon_code:o.productCart&&o.productCart.coupon&&o.productCart.coupon.id?JSON.stringify(o.productCart.coupon):"NA",extra:"NA",pay_key:e,status:0,payStatus:1};console.log("param-----\x3e",r),o.util.start(),o.api.post_private("v1/product_order/save",r).then(a=>{a&&200==a.status&&(o.util.stop(),console.log(a),o.productCart.clearCart(),o.successModal.show())},a=>{console.log("Error",a),o.util.stop(),o.util.apiErrorHandler(a)}).catch(a=>{console.log("Err",a),o.util.stop(),o.util.apiErrorHandler(a)})})()}payPalWebPay(){var e=this;this.util.start(),this.api.get_private("v1/getPayPalKey").then(function(){var o=(0,m.Z)(function*(r){if(console.log(r),e.util.stop(),r&&r.status&&200==r.status&&r.data){const a=e.paymentMethodList.filter(s=>s.id==e.paymentId);console.log(a),e.payPalModal.show(),e.initConfig(a[0].currency_code,r.data)}});return function(r){return o.apply(this,arguments)}}(),o=>{console.log(o),this.util.stop(),this.util.apiErrorHandler(o)}).catch(o=>{console.log(o),this.util.stop(),this.util.apiErrorHandler(o)})}initConfig(e,o){this.payPalConfig={currency:e,clientId:o,createOrderOnClient:r=>({intent:"CAPTURE",purchase_units:[{amount:{currency_code:e,value:this.productCart.grandTotal,breakdown:{item_total:{currency_code:e,value:this.productCart.grandTotal}}}}]}),advanced:{commit:"true"},style:{label:"paypal",layout:"vertical"},onApprove:(r,a)=>{console.log("onApprove - transaction was approved, but not authorized",r,a),a.order.get().then(s=>{console.log("onApprove - you can get full order details inside onApprove: ",s)})},onClientAuthorization:r=>{console.log("onClientAuthorization - you should probably inform your server about completed transaction at this point",r),this.payPalModal.hide(),this.createOrder(JSON.stringify(r))},onCancel:(r,a)=>{console.log("OnCancel",r,a)},onError:r=>{console.log("OnError",r)},onClick:(r,a)=>{console.log("onClick",r,a)}}}razoryPayWeb(){this.util.start(),this.api.get_private("v1/getRazorPayKey").then(e=>{if(console.log(e),this.util.stop(),e&&e.status&&200==e.status&&e.data){const a=this.paymentMethodList.filter(s=>s.id==this.paymentId);console.log(a);var o={amount:this.productCart.grandTotal?100*this.productCart.grandTotal:5,email:this.getEmail(),logo:this.util&&this.util.logo?this.api.mediaURL+this.util.logo:"null",name:this.getName(),app_color:this.util&&this.util.app_color?this.util.app_color:"#f47878",key:e.data,currency:a[0].currency_code,description:this.util.app_name+" Order Of "+this.productCart.grandTotal+" amount",handler:s=>{console.log(s),this.verifyPurchaseRazorPay(s.razorpay_payment_id)}};console.log(o),new Razorpay(o).open()}},e=>{console.log(e),this.util.stop(),this.util.apiErrorHandler(e)}).catch(e=>{console.log(e),this.util.stop(),this.util.apiErrorHandler(e)})}verifyPurchaseRazorPay(e){this.util.start(),this.api.get_private("v1/payments/VerifyRazorPurchase?id="+e).then(o=>{console.log(o),o&&o.status&&200==o.status&&o.success&&o.success.status&&"captured"==o.success.status?(this.util.stop(),this.createOrder(JSON.stringify(o.success))):(this.util.stop(),this.util.errorMessage(this.util.translate("Something went wrong while payments. please contact administrator")))},o=>{console.log(o),this.util.stop(),this.util.errorMessage(this.util.translate("Something went wrong while payments. please contact administrator"))}).catch(o=>{console.log(o),this.util.stop(),this.util.errorMessage(this.util.translate("Something went wrong while payments. please contact administrator"))})}flutterwaveWeb(){this.util.start(),this.api.get_private("v1/getFlutterwaveKey").then(e=>{if(console.log(e),this.util.stop(),e&&e.status&&200==e.status&&e.data){const o=this.paymentMethodList.filter(r=>r.id==this.paymentId);console.log(o),FlutterwaveCheckout({public_key:e.data,tx_ref:""+Math.floor(1e9*Math.random()+1),amount:this.productCart.grandTotal,currency:o[0].currency_code,payment_options:"card, mobilemoneyghana, ussd",meta:{consumer_id:23,consumer_mac:"92a3-912ba-1192a"},customer:{email:this.getEmail(),phone_number:localStorage.getItem("mobile"),name:this.getName()},callback:r=>{console.log(r),document.getElementsByName("checkout")[0].setAttribute("style","position:fixed;top:0;left:0;z-index:-1;border:none;opacity:0;pointer-events:none;width:100%;height:100%;"),document.body.style.overflow="",this.createOrder(JSON.stringify(r))},onclose:r=>{console.log("closed",r)},customizations:{title:this.util.app_name,description:this.util.app_name+" Order",logo:this.api.mediaURL+this.util.logo}})}},e=>{console.log(e),this.util.stop(),this.util.apiErrorHandler(e)}).catch(e=>{console.log(e),this.util.stop(),this.util.apiErrorHandler(e)})}paystackWeb(){this.util.start(),this.api.get_private("v1/getPaystackKey").then(e=>{if(console.log(e),this.util.stop(),e&&e.status&&200==e.status&&e.data){const o=this.paymentMethodList.filter(a=>a.id==this.paymentId);console.log(o),PaystackPop.setup({key:e.data,currency:o[0].currency_code,email:this.getEmail(),amount:100*this.productCart.grandTotal,firstname:this.getFirstName(),lastname:this.getLastName(),ref:""+Math.floor(1e9*Math.random()+1),onClose:()=>{console.log("closed")},callback:a=>{console.log(a),this.createOrder(a.reference)}}).openIframe()}},e=>{console.log(e),this.util.stop(),this.util.apiErrorHandler(e)}).catch(e=>{console.log(e),this.util.stop(),this.util.apiErrorHandler(e)})}payTmWeb(){var e=this;return(0,m.Z)(function*(){const o={uid:localStorage.getItem("uid"),freelancer_id:"individual"==e.ownerType?e.productCart.cart[0].freelacer_id:0,salon_id:"salon"==e.ownerType?e.productCart.cart[0].freelacer_id:0,date_time:_().format().split("T")[0],paid_method:e.paymentId,order_to:"home",orders:JSON.stringify(e.productCart.cart),notes:"NA",address:JSON.stringify(e.productCart.deliveredAddress),total:e.productCart.totalPrice,tax:e.productCart.orderTax,grand_total:e.productCart.grandTotal,discount:e.productCart.discount,driver_id:0,delivery_charge:e.productCart.deliveryCharge,wallet_used:1==e.walletCheck&&e.walletDiscount>0?1:0,wallet_price:1==e.walletCheck&&e.walletDiscount>0?e.walletDiscount:0,coupon_id:e.productCart&&e.productCart.coupon&&e.productCart.coupon.id?e.productCart.coupon.id:"NA",coupon_code:e.productCart&&e.productCart.coupon&&e.productCart.coupon.id?JSON.stringify(e.productCart.coupon):"NA",extra:"NA",pay_key:"NA",status:8,payStatus:1};console.log("param-----\x3e",o),e.util.start(),e.api.post_private("v1/product_order/save",o).then(r=>{if(console.log(r),e.util.stop(),r&&r.status&&200==r.status&&r.data&&r.data.id){const s={queryParams:{id:r.data.id,payLink:e.api.baseUrl+"v1/payProductWeb?amount="+e.productCart.grandTotal+"&standby_id="+r.data.id}};e.productCart.clearCart(),e.router.navigate(["/await-payments-product"],s)}},r=>{console.log(r),e.util.stop(),e.util.apiErrorHandler(r)}).catch(r=>{console.log(r),e.util.stop(),e.util.apiErrorHandler(r)})})()}payWithInstaMOJOWeb(){var e=this;return(0,m.Z)(function*(){const o={uid:localStorage.getItem("uid"),freelancer_id:"individual"==e.ownerType?e.productCart.cart[0].freelacer_id:0,salon_id:"salon"==e.ownerType?e.productCart.cart[0].freelacer_id:0,date_time:_().format().split("T")[0],paid_method:e.paymentId,order_to:"home",orders:JSON.stringify(e.productCart.cart),notes:"NA",address:JSON.stringify(e.productCart.deliveredAddress),total:e.productCart.totalPrice,tax:e.productCart.orderTax,grand_total:e.productCart.grandTotal,discount:e.productCart.discount,driver_id:0,delivery_charge:e.productCart.deliveryCharge,wallet_used:1==e.walletCheck&&e.walletDiscount>0?1:0,wallet_price:1==e.walletCheck&&e.walletDiscount>0?e.walletDiscount:0,coupon_id:e.productCart&&e.productCart.coupon&&e.productCart.coupon.id?e.productCart.coupon.id:"NA",coupon_code:e.productCart&&e.productCart.coupon&&e.productCart.coupon.id?JSON.stringify(e.productCart.coupon):"NA",extra:"NA",pay_key:"NA",status:8,payStatus:1};console.log("param-----\x3e",o),e.util.start(),e.api.post_private("v1/product_order/save",o).then(r=>{if(console.log(r),e.util.stop(),r&&r.status&&200==r.status&&r.data&&r.data.id){const s=r.data.id,p={allow_repeated_payments:"False",amount:e.productCart.grandTotal,buyer_name:e.getName(),purpose:e.util.app_name+" Orders",redirect_url:e.api.baseUrl+"v1/instaMOJOWebSuccess?id="+s,phone:localStorage.getItem("mobile")&&null!=localStorage.getItem("mobile")?localStorage.getItem("mobile"):"",send_email:"True",webhook:e.api.baseUrl,send_sms:"True",email:e.getEmail()};e.util.start(),e.api.post_private("v1/payments/instamojoPay",p).then(n=>{if(console.log("instamojo response",n),e.util.stop(),n&&n.status&&200==n.status&&n.success&&1==n.success.success){const c={queryParams:{id:s,payLink:n.success.payment_request.longurl}};e.productCart.clearCart(),e.router.navigate(["/await-payments-product"],c)}else{const c=JSON.parse(n.error);if(console.log("error message",c),c&&c.message)return e.util.errorMessage(c.message),!1;e.util.errorMessage(e.util.translate("Something went wrong while payments. please contact administrator"))}},n=>{console.log(n),e.util.stop(),e.util.apiErrorHandler(n)}).catch(n=>{console.log(n),e.util.stop(),e.util.apiErrorHandler(n)})}},r=>{console.log(r),e.util.stop(),e.util.apiErrorHandler(r)}).catch(r=>{console.log(r),e.util.stop(),e.util.apiErrorHandler(r)})})()}ngOnInit(){}onOrderHistory(){this.successModal.hide();const e=(this.util.userInfo.first_name+"-"+this.util.userInfo.last_name).toLowerCase();this.router.navigate(["user",e,"product-order"])}onHome(){this.successModal.hide(),this.router.navigate(["welcome"])}getName(){return null!=localStorage.getItem("lastName")&&""!=localStorage.getItem("lastName")?localStorage.getItem("firstName")+" "+localStorage.getItem("lastName"):"Foodies"}getEmail(){return null!=localStorage.getItem("email")&&localStorage.getItem("email")?localStorage.getItem("email"):"info@initappz.com"}getFirstName(){return localStorage.getItem("firstName")&&null!=localStorage.getItem("firstName")?localStorage.getItem("firstName"):""}getLastName(){return localStorage.getItem("lastName")&&null!=localStorage.getItem("lastName")?localStorage.getItem("lastName"):""}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(f.F0),t.Y36(A.f),t.Y36(k.s),t.Y36(f.gz),t.Y36(x.u))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-product-checkout"]],viewQuery:function(e,o){if(1&e&&(t.Gf(w,7),t.Gf(Z,7),t.Gf(M,7),t.Gf(I,5),t.Gf(N,5)),2&e){let r;t.iGM(r=t.CRH())&&(o.deliveryAddress=r.first),t.iGM(r=t.CRH())&&(o.couponModal=r.first),t.iGM(r=t.CRH())&&(o.successModal=r.first),t.iGM(r=t.CRH())&&(o.payPalModal=r.first),t.iGM(r=t.CRH())&&(o.collapse=r.first)}},decls:186,vars:79,consts:[[1,"main-content","bg-light","p-1"],[1,"py-4","service-main-body"],[1,"container"],[1,"row"],[1,"col-lg-8"],[1,"pb-3"],[1,"bg-white","border-0","p-0"],[1,"mb-0","ff-medium","shadow-sm"],["type","button",1,"rounded","border-0","d-flex","align-items-center","bg-white","btn-block","px-3","py-4","m-0",3,"click"],[1,"c-number"],["mdbCollapse","",3,"isCollapsed"],["id1","bs-collapse"],[1,"card-body","p-0","border-top","shadow-sm","service-cart"],[1,"cart-items","bg-white","p-3"],["class","d-flex align-items-center mb-3",4,"ngFor","ngForOf"],[1,"mb-0","mt-2","ff-medium","shadow-sm"],[1,"d-flex","justify-content-between","align-items-center"],["type","button",1,"rounded","border-0","d-flex","align-items-center","bg-white","ff-medium","btn-block","px-3","py-4","m-0",3,"click"],[1,"ff-medium","f-primary","text-right","w-75","mr-2",3,"click"],["class","p-3 border bg-white rounded shadow-sm m-3",4,"ngIf"],["mdbCollapse",""],["id2","bs-collapse"],[1,"card-body","p-0","border-top","shadow-sm"],[1,"p-3","row"],["class","col-lg-6 mb-1 ",4,"ngFor","ngForOf"],["id4","bs-collapse"],[1,"mt-2"],["class","payment-list d-block",4,"ngFor","ngForOf"],[1,"pt-4"],["type","button","mdbBtn","","mdbWavesEffect","",1,"rounded","text-white","m-0","btn-color","btn-block",3,"click"],[1,"m-0","text-capitalize","ff-medium"],[4,"ngIf"],[1,"m-0","text-capitalize"],[1,"col-lg-4"],[1,"sticky_sidebar"],[1,"pd","bg-white","rounded","overflow-hidden","shadow-sm","mb-3","checkout-sidebar"],[1,"d-flex","align-items-center","profile","border-bottom","bg-white","p-3"],[1,"mr-2","rounded-circle","img-fluid",3,"ngStyle"],[1,"d-flex","flex-column"],[1,"mb-1","ff-bold"],[1,"apply-coupon","mx-3",3,"click"],["fas","","icon","tags",1,"prefix","grey-text","pr-1"],[1,"wallet_box",3,"ngStyle"],[1,"head_lbl"],[1,"checkmark",3,"click"],["class","fas fa-check-circle",4,"ngIf"],["class","far fa-circle",4,"ngIf"],[1,"bg-white","px-3","py-2"],[1,"ff-bold","small"],[1,"mb-1"],["class","float-right text-dark",4,"ngIf"],["class","float-right text-danger",4,"ngIf"],[1,"p-3","border-top"],[1,"m-0","ff-medium","h5"],["class","float-right ff-medium h5 f-primary",4,"ngIf"],["mdbModal","","id","deliveryAddressModalTop","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade","center",2,"z-index","999999"],["deliveryAddress","mdbModal"],["role","document",1,"modal-dialog","modal-dialog-scrollable"],[1,"modal-content"],[1,"modal-header","text-center"],["class","modal-title w-100 ff-medium",4,"ngIf"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","mx-3"],[1,"md-form","mb-5"],["type","text","id","form34","mdbInput","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["for","form34"],["type","text","id","form29","mdbInput","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["for","form29"],["type","text","id","form32","mdbInput","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["for","form32"],[1,"md-form"],[1,"custom-select",3,"ngModel","ngModelChange"],["value","0","selected",""],["value","1"],["value","2"],[1,"modal-footer","d-flex","justify-content-center"],["mdbBtn","","color","light","mdbWavesEffect","",1,"waves-light","btn-color","text-dark",3,"click"],["mdbBtn","","class","waves-light btn-color text-white","mdbWavesEffect","",3,"click",4,"ngIf"],["mdbModal","","id","couponModalTop","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade","right",2,"z-index","999999"],["couponModal","mdbModal"],["role","document",1,"modal-dialog","modal-full-height","modal-right"],[1,"modal-title","w-100","ff-medium"],[1,"modal-body"],[4,"ngFor","ngForOf"],["mdbModal","","tabindex","-1","role","dialog","aria-labelledby","myBasicModalLabel","aria-hidden","true",1,"modal","fade",2,"z-index","999999"],["successModal","mdbModal"],["role","document",1,"modal-dialog","modal-notify","modal-success","modal-dialog-scrollable"],[1,"modal-title","w-100","ff-medium","text-white"],["aria-hidden","true",1,"white-text"],[1,"text-center","confirm-modal"],["src","assets/images/logo.png","alt","",2,"height","100px","width","100px"],[1,"confirm-text","mt-2"],[1,"modal-footer","justify-content-center"],["type","button","mdbBtn","","color","success","outline","true","mdbWavesEffect","",1,"waves-effect",3,"click"],["type","button","mdbBtn","","color","success","mdbWavesEffect","",1,"waves-effect",3,"click"],["mdbModal","","id","frameModalTop","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade","center",2,"z-index","99999"],["payPalModal","mdbModal"],["role","document",1,"modal-dialog","modal-notify","modal-danger","modal-dialog-scrollable"],[1,"modal-header"],[1,"heading","lead",2,"text-align","center"],[3,"config"],[1,"d-flex","align-items-center","mb-3"],[1,"img-fluid",3,"ngStyle"],[1,"ml-3","text-dark","text-decoration-none","w-100"],[1,"h6","mb-1","ff-bold"],[1,"d-flex","align-items-center"],[1,"h6","text-muted","m-0","mr-3","small"],[1,"head-text","ff-medium","f-primary","m-0"],["class","ff-medium head-text",4,"ngIf"],["class","qty_flex d-flex ml-auto align-items-center",4,"ngIf"],[1,"ff-medium","head-text"],[1,"qty_flex","d-flex","ml-auto","align-items-center"],[1,"round_btn",3,"click"],["fas","","icon","minus"],[1,"m-0","ff-medium","px-1"],["fas","","icon","plus"],[1,"p-3","border","bg-white","rounded","shadow-sm","m-3"],[1,"d-flex","align-items-center","mb-2"],[1,"h6","mb-1","f-primary","ff-bold"],[1,"d-flex","ml-auto"],[1,"f-primary","small",3,"click"],[1,"text-muted","m-0","mt-2","small"],[1,"col-lg-6","mb-1"],[1,"p-3","border","bg-white","rounded","shadow-sm","w-100"],[1,"outline-btn","mt-2",3,"click"],[1,"payment-list","d-block"],[1,"payment-name","mt-3","py-1","text-start","pl-3","d-flex","align-items-center","border",3,"ngStyle","click"],[1,"payment-img",3,"ngStyle"],[1,"text-center","pl-3",3,"ngStyle"],[1,"ml-auto","pr-3"],[1,"far","fa-check-circle",3,"ngStyle"],[1,"fas","fa-check-circle"],[1,"far","fa-circle"],[1,"float-right","text-dark"],[1,"float-right","text-danger"],[1,"float-right","ff-medium","h5","f-primary"],["mdbBtn","","mdbWavesEffect","",1,"waves-light","btn-color","text-white",3,"click"],[1,"border","p-3"],[1,"ff-bold","h6"],[1,"text-muted","pt-2"],[1,"outline-btn",3,"click"]],template:function(e,o){if(1&e){const r=t.EpF();t.TgZ(0,"div",0)(1,"section",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"button",8),t.NdJ("click",function(){t.CHM(r);const s=t.MAs(13);return t.KtG(s.toggle())}),t.TgZ(9,"span",9),t._uU(10,"1"),t.qZA(),t._uU(11),t.qZA()(),t.TgZ(12,"div",10,11)(14,"div",12)(15,"div",13),t.YNc(16,J,15,9,"div",14),t.qZA()()()()(),t.TgZ(17,"div",5)(18,"div",6)(19,"div",15)(20,"div",16)(21,"button",17),t.NdJ("click",function(){t.CHM(r);const s=t.MAs(29);return t.KtG(s.toggle())}),t.TgZ(22,"span",9),t._uU(23,"2"),t.qZA(),t._uU(24),t.qZA(),t.TgZ(25,"a",18),t.NdJ("click",function(){return o.addNewAddress()}),t._uU(26),t.qZA()(),t.YNc(27,O,9,6,"div",19),t.qZA(),t.TgZ(28,"div",20,21)(30,"div",22)(31,"div",23),t.YNc(32,H,12,7,"div",24),t.qZA()()()()(),t.TgZ(33,"div",5)(34,"div",6)(35,"div",15)(36,"button",8),t.NdJ("click",function(){t.CHM(r);const s=t.MAs(41);return t.KtG(s.toggle())}),t.TgZ(37,"span",9),t._uU(38,"3"),t.qZA(),t._uU(39),t.qZA()(),t.TgZ(40,"div",20,25)(42,"div",22)(43,"div",13)(44,"div",26),t.YNc(45,F,7,13,"div",27),t.qZA(),t.TgZ(46,"div",28)(47,"button",29),t.NdJ("click",function(){return o.onCheckout()}),t.TgZ(48,"div")(49,"div")(50,"h6",30),t._uU(51),t.YNc(52,D,2,2,"span",31),t.YNc(53,L,2,2,"span",31),t.qZA(),t.TgZ(54,"p",32),t._uU(55),t.qZA()()()()()()()()()()(),t.TgZ(56,"div",33)(57,"div",34)(58,"div",35)(59,"div",36),t._UZ(60,"div",37),t.TgZ(61,"div",38)(62,"h6",39),t._uU(63),t.qZA()()(),t.TgZ(64,"div")(65,"div",40),t.NdJ("click",function(){return o.addCoupon()}),t.TgZ(66,"div"),t._UZ(67,"mdb-icon",41),t._uU(68),t.qZA()(),t.TgZ(69,"div",42)(70,"label",43),t._uU(71),t.qZA(),t.TgZ(72,"div",44),t.NdJ("click",function(){return o.walletChange()}),t.YNc(73,j,1,0,"i",45),t.YNc(74,z,1,0,"i",46),t._uU(75),t.YNc(76,Y,2,2,"span",31),t.YNc(77,K,2,2,"span",31),t.qZA()(),t.TgZ(78,"div",47)(79,"p",48),t._uU(80),t.qZA(),t.TgZ(81,"p",49),t._uU(82),t.YNc(83,W,2,2,"span",50),t.YNc(84,G,2,2,"span",50),t.qZA(),t.TgZ(85,"p",49),t._uU(86),t.YNc(87,R,2,2,"span",51),t.YNc(88,B,2,2,"span",51),t.qZA(),t.TgZ(89,"p",49),t._uU(90),t.YNc(91,$,2,2,"span",50),t.YNc(92,V,2,2,"span",50),t.qZA(),t.TgZ(93,"p",49),t._uU(94),t.YNc(95,X,2,2,"span",50),t.YNc(96,tt,2,2,"span",50),t.qZA()(),t.TgZ(97,"div",52)(98,"h6",53),t._uU(99),t.YNc(100,et,2,2,"span",54),t.YNc(101,ot,2,2,"span",54),t.qZA()()()()()()()()()(),t.TgZ(102,"div",55,56)(104,"div",57)(105,"div",58)(106,"div",59),t.YNc(107,it,2,1,"h5",60),t.YNc(108,rt,2,1,"h5",60),t.TgZ(109,"button",61),t.NdJ("click",function(){t.CHM(r);const s=t.MAs(103);return t.KtG(s.hide())}),t.TgZ(110,"span",62),t._uU(111,"\xd7"),t.qZA()()(),t.TgZ(112,"div",63)(113,"div",64)(114,"input",65),t.NdJ("ngModelChange",function(s){return o.house=s}),t.qZA(),t.TgZ(115,"label",66),t._uU(116),t.qZA()(),t.TgZ(117,"div",64)(118,"input",65),t.NdJ("ngModelChange",function(s){return o.address=s}),t.qZA(),t.TgZ(119,"label",66),t._uU(120),t.qZA()(),t.TgZ(121,"div",64)(122,"input",67),t.NdJ("ngModelChange",function(s){return o.landmark=s}),t.qZA(),t.TgZ(123,"label",68),t._uU(124),t.qZA()(),t.TgZ(125,"div",64)(126,"input",69),t.NdJ("ngModelChange",function(s){return o.zipcode=s}),t.qZA(),t.TgZ(127,"label",70),t._uU(128),t.qZA()(),t.TgZ(129,"div",71)(130,"select",72),t.NdJ("ngModelChange",function(s){return o.title=s}),t.TgZ(131,"option",73),t._uU(132),t.qZA(),t.TgZ(133,"option",74),t._uU(134),t.qZA(),t.TgZ(135,"option",75),t._uU(136),t.qZA()()()(),t.TgZ(137,"div",76)(138,"button",77),t.NdJ("click",function(){t.CHM(r);const s=t.MAs(103);return t.KtG(s.hide())}),t._uU(139),t.qZA(),t.YNc(140,at,2,1,"button",78),t.YNc(141,st,2,1,"button",78),t.qZA()()()(),t.TgZ(142,"div",79,80)(144,"div",81)(145,"div",58)(146,"div",59)(147,"h6",82),t._uU(148),t.qZA(),t.TgZ(149,"button",61),t.NdJ("click",function(){t.CHM(r);const s=t.MAs(143);return t.KtG(s.hide())}),t.TgZ(150,"span",62),t._uU(151,"\xd7"),t.qZA()()(),t.TgZ(152,"div",83),t.YNc(153,lt,10,3,"div",84),t.qZA()()()(),t.TgZ(154,"div",85,86)(156,"div",87)(157,"div",58)(158,"div",59)(159,"h6",88),t._uU(160),t.qZA(),t.TgZ(161,"button",61),t.NdJ("click",function(){t.CHM(r);const s=t.MAs(155);return t.KtG(s.hide())}),t.TgZ(162,"span",89),t._uU(163,"\xd7"),t.qZA()()(),t.TgZ(164,"div",83)(165,"div",90),t._UZ(166,"img",91),t.TgZ(167,"h6",92),t._uU(168),t.qZA()()(),t.TgZ(169,"div",93)(170,"a",94),t.NdJ("click",function(){return o.onHome()}),t._uU(171),t.qZA(),t.TgZ(172,"a",95),t.NdJ("click",function(){return o.onOrderHistory()}),t._uU(173),t.qZA()()()()(),t.TgZ(174,"div",96,97)(176,"div",98)(177,"div",58)(178,"div",99)(179,"p",100),t._uU(180),t.qZA(),t.TgZ(181,"button",61),t.NdJ("click",function(){t.CHM(r);const s=t.MAs(175);return t.KtG(s.hide())}),t.TgZ(182,"span",89),t._uU(183,"\xd7"),t.qZA()()(),t.TgZ(184,"div",83),t._UZ(185,"ngx-paypal",101),t.qZA()()()()}2&e&&(t.xp6(11),t.lnq("",o.util.translate("Cart")," (",o.productCart.totalItemsInCart," ",o.util.translate("items"),") "),t.xp6(1),t.Q6J("isCollapsed",!1),t.xp6(4),t.Q6J("ngForOf",o.productCart.cart),t.xp6(8),t.hij("",o.util.translate("Address")," "),t.xp6(2),t.hij(" ",o.util.translate("+Add New Address")," "),t.xp6(1),t.Q6J("ngIf",o.productCart&&o.productCart.deliveredAddress&&o.productCart.deliveredAddress.address),t.xp6(5),t.Q6J("ngForOf",o.addressList),t.xp6(7),t.hij("",o.util.translate("Payment")," "),t.xp6(6),t.Q6J("ngForOf",o.paymentMethodList),t.xp6(6),t.hij(" ",o.util.translate("Grand Total")," "),t.xp6(1),t.Q6J("ngIf","left"==o.util.currencySide),t.xp6(1),t.Q6J("ngIf","right"==o.util.currencySide),t.xp6(2),t.hij(" ",o.util.translate("Proceed to Checkout")," "),t.xp6(5),t.Q6J("ngStyle",t.VKq(71,y,"url("+o.api.mediaURL+o.freelancerCover+"),url(assets/images/placeholder.jpg)")),t.xp6(3),t.Oqu(o.freelancerName),t.xp6(5),t.hij(" ",o.util.translate("Apply Coupon")," "),t.xp6(1),t.Q6J("ngStyle",t.VKq(73,v,o.balance<=0||o.productCart.coupon?"gray":"black")),t.xp6(2),t.AsE("",o.util.app_name," ",o.util.translate("Wallet Balance")," "),t.xp6(2),t.Q6J("ngIf",1==o.walletCheck),t.xp6(1),t.Q6J("ngIf",0==o.walletCheck),t.xp6(1),t.hij(" ",o.util.translate("Available Balance")," "),t.xp6(1),t.Q6J("ngIf","left"==o.util.cside),t.xp6(1),t.Q6J("ngIf","right"==o.util.cside),t.xp6(3),t.Oqu(o.util.translate("Bill Details")),t.xp6(2),t.hij(" ",o.util.translate("Service Total")," "),t.xp6(1),t.Q6J("ngIf","left"==o.util.currencySide),t.xp6(1),t.Q6J("ngIf","right"==o.util.currencySide),t.xp6(2),t.hij(" ",o.util.translate("Total Discount")," "),t.xp6(1),t.Q6J("ngIf","left"==o.util.currencySide),t.xp6(1),t.Q6J("ngIf","right"==o.util.currencySide),t.xp6(2),t.hij(" ",o.util.translate("Taxes and Charges")," "),t.xp6(1),t.Q6J("ngIf","left"==o.util.currencySide),t.xp6(1),t.Q6J("ngIf","right"==o.util.currencySide),t.xp6(2),t.hij(" ",o.util.translate("Distance Charge")," "),t.xp6(1),t.Q6J("ngIf","left"==o.util.currencySide),t.xp6(1),t.Q6J("ngIf","right"==o.util.currencySide),t.xp6(3),t.hij("",o.util.translate("To Pay")," "),t.xp6(1),t.Q6J("ngIf","left"==o.util.currencySide),t.xp6(1),t.Q6J("ngIf","right"==o.util.currencySide),t.xp6(6),t.Q6J("ngIf",1==o.isNewAddress),t.xp6(1),t.Q6J("ngIf",0==o.isNewAddress),t.xp6(6),t.Q6J("ngModel",o.house)("ngModelOptions",t.DdM(75,C)),t.xp6(2),t.Oqu(o.util.translate("House / Flat NO")),t.xp6(2),t.Q6J("ngModel",o.address)("ngModelOptions",t.DdM(76,C)),t.xp6(2),t.Oqu(o.util.translate("Address")),t.xp6(2),t.Q6J("ngModel",o.landmark)("ngModelOptions",t.DdM(77,C)),t.xp6(2),t.Oqu(o.util.translate("Landmark")),t.xp6(2),t.Q6J("ngModel",o.zipcode)("ngModelOptions",t.DdM(78,C)),t.xp6(2),t.Oqu(o.util.translate("Pincode")),t.xp6(2),t.Q6J("ngModel",o.title),t.xp6(2),t.hij("",o.util.translate("Home")," "),t.xp6(2),t.hij("",o.util.translate("Office")," "),t.xp6(2),t.hij("",o.util.translate("Other")," "),t.xp6(3),t.Oqu(o.util.translate("Cancel")),t.xp6(1),t.Q6J("ngIf",1==o.isNewAddress),t.xp6(1),t.Q6J("ngIf",0==o.isNewAddress),t.xp6(7),t.Oqu(o.util.translate("Available Coupons")),t.xp6(5),t.Q6J("ngForOf",o.offersList),t.xp6(7),t.Oqu(o.util.translate("Order Success")),t.xp6(8),t.Oqu(o.util.translate("Thank You! for your order")),t.xp6(3),t.Oqu(o.util.translate("Back To Home")),t.xp6(2),t.hij(" ",o.util.translate("Track My Order")," "),t.xp6(7),t.hij(" ",o.util.translate("Pay with PayPal")," "),t.xp6(5),t.Q6J("config",o.payPalConfig))},dependencies:[g.sg,g.O5,g.PC,u.mT,u.b6,u.Hq,u.WF,u.oB,u.Ui,u.XI,h.YN,h.Kr,h.Fj,h.EJ,h.JJ,h.On,b.nu],styles:['@charset "UTF-8";']}),i})()}];let ct=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[f.Bz.forChild(nt),f.Bz]}),i})(),dt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[g.ez,ct,u.yi,h.u5,b.vj]}),i})()}}]);