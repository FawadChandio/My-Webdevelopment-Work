"use strict";(self.webpackChunksalon_web=self.webpackChunksalon_web||[]).push([[781],{2781:(ye,x,d)=>{d.r(x),d.d(x,{FreelancerCheckoutModule:()=>Ce});var f=d(6895),v=d(4553),_=d(5861),p=d(5439),e=d(4650),Z=d(7241),A=d(5830),w=d(4866),h=d(7890),g=d(4006),T=d(5470);const M=["deliveryAddress"],N=["couponModal"],I=["successModal"],S=["payPalModal"],F=["id2"],q=["id3"];function E(o,l){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit,i=e.oxw();e.xp6(1),e.AsE(" ",i.util.currencySymbol," ",t.price," ")}}function U(o,l){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit,i=e.oxw();e.xp6(1),e.AsE(" ",t.price," ",i.util.currencySymbol," ")}}function J(o,l){if(1&o&&(e.TgZ(0,"span",123),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit,i=e.oxw();e.xp6(1),e.AsE(" ",i.util.currencySymbol," ",t.off," ")}}function O(o,l){if(1&o&&(e.TgZ(0,"span",123),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit,i=e.oxw();e.xp6(1),e.AsE(" ",t.off," ",i.util.currencySymbol," ")}}const C=function(o){return{"background-image":o}};function D(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div",112)(1,"a"),e._UZ(2,"img",113),e.qZA(),e.TgZ(3,"a",114)(4,"p",115),e._uU(5),e.qZA(),e.TgZ(6,"p",116),e._uU(7),e.qZA(),e.TgZ(8,"div",117)(9,"p",118)(10,"del"),e.YNc(11,E,2,2,"span",39),e.YNc(12,U,2,2,"span",39),e.qZA()(),e.TgZ(13,"p",119),e.YNc(14,J,2,2,"span",120),e.YNc(15,O,2,2,"span",120),e.qZA(),e.TgZ(16,"div",121)(17,"i",122),e.NdJ("click",function(){const r=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.removeService(r))}),e.qZA()()()()()}if(2&o){const t=l.$implicit,i=e.oxw();e.xp6(2),e.Q6J("ngStyle",e.VKq(8,C,"url("+i.api.mediaURL+t.cover+"),url(assets/images/placeholder.jpg)")),e.xp6(3),e.Oqu(t.name),e.xp6(2),e.AsE(" ",t.duration," ",i.util.translate("Min. Duration")," "),e.xp6(4),e.Q6J("ngIf","left"==i.util.currencySide),e.xp6(1),e.Q6J("ngIf","right"==i.util.currencySide),e.xp6(2),e.Q6J("ngIf","left"==i.util.currencySide),e.xp6(1),e.Q6J("ngIf","right"==i.util.currencySide)}}function H(o,l){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit,i=e.oxw();e.xp6(1),e.AsE(" ",i.util.currencySymbol," ",t.price," ")}}function P(o,l){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit,i=e.oxw();e.xp6(1),e.AsE(" ",t.price," ",i.util.currencySymbol," ")}}function j(o,l){if(1&o&&(e.TgZ(0,"span",123),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit,i=e.oxw();e.xp6(1),e.AsE(" ",i.util.currencySymbol," ",t.off," ")}}function Q(o,l){if(1&o&&(e.TgZ(0,"span",123),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit,i=e.oxw();e.xp6(1),e.AsE(" ",t.off," ",i.util.currencySymbol," ")}}function W(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div",112)(1,"a"),e._UZ(2,"img",113),e.qZA(),e.TgZ(3,"a",114)(4,"p",115),e._uU(5),e.qZA(),e.TgZ(6,"p",116),e._uU(7),e.qZA(),e.TgZ(8,"div",117)(9,"p",118)(10,"del"),e.YNc(11,H,2,2,"span",39),e.YNc(12,P,2,2,"span",39),e.qZA()(),e.TgZ(13,"p",119),e.YNc(14,j,2,2,"span",120),e.YNc(15,Q,2,2,"span",120),e.qZA(),e.TgZ(16,"div",121)(17,"i",122),e.NdJ("click",function(){const r=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.removePackage(r))}),e.qZA()()()()()}if(2&o){const t=l.$implicit,i=e.oxw();e.xp6(2),e.Q6J("ngStyle",e.VKq(8,C,"url("+i.api.mediaURL+t.cover+"),url(assets/images/placeholder.jpg)")),e.xp6(3),e.Oqu(t.name),e.xp6(2),e.AsE(" ",t.duration," ",i.util.translate("Min. Duration")," "),e.xp6(4),e.Q6J("ngIf","left"==i.util.currencySide),e.xp6(1),e.Q6J("ngIf","right"==i.util.currencySide),e.xp6(2),e.Q6J("ngIf","left"==i.util.currencySide),e.xp6(1),e.Q6J("ngIf","right"==i.util.currencySide)}}function L(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div",124)(1,"div",125)(2,"p",126),e._uU(3),e.qZA(),e.TgZ(4,"div",121)(5,"a",127),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onEditAddress(s.serviceCart.deliveredAddress))}),e._uU(6),e.qZA()()(),e.TgZ(7,"p",128),e._uU(8),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(3),e.hij(" ",t.addressTitle[t.serviceCart.deliveredAddress.title]," "),e.xp6(3),e.Oqu(t.util.translate("EDIT")),e.xp6(2),e.HOy(" ",t.serviceCart.deliveredAddress.address," ",t.serviceCart.deliveredAddress.house," ",t.serviceCart.deliveredAddress.landmark," - ",t.serviceCart.deliveredAddress.pincode,",")}}function Y(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div",129)(1,"div",130)(2,"div",125)(3,"p",126),e._uU(4),e.qZA(),e.TgZ(5,"div",121)(6,"a",127),e.NdJ("click",function(){const r=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.onEditAddress(r))}),e._uU(7),e.qZA()()(),e.TgZ(8,"p",128),e._uU(9),e.qZA(),e.TgZ(10,"div",131),e.NdJ("click",function(){const r=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.selectAddress(r))}),e._uU(11),e.qZA()()()}if(2&o){const t=l.$implicit,i=e.oxw();e.xp6(4),e.hij("",i.addressTitle[t.title]," "),e.xp6(3),e.Oqu(i.util.translate("EDIT")),e.xp6(2),e.HOy("",t.house," ",t.address," ",t.landmark," ",t.pincode,""),e.xp6(2),e.hij(" ",i.util.translate("Deliver Here")," ")}}function z(o,l){1&o&&e._UZ(0,"mdb-icon",132)}function K(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div",133),e.NdJ("click",function(){const r=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.selectDate(r))}),e.TgZ(1,"div",134),e._uU(2),e.qZA(),e.TgZ(3,"div",135),e._uU(4),e.qZA()()}if(2&o){const t=l.$implicit,i=e.oxw();e.ekj("disabled",i.initDate.split("T")[0]>t.val.split("T")),e.xp6(1),e.ekj("selectedDay",t.val.split("T")[0]==i.selectedDate),e.xp6(1),e.hij(" ",t.day," "),e.xp6(1),e.ekj("selectedDate",t.val.split("T")[0]==i.selectedDate),e.xp6(1),e.hij(" ",t.date," ")}}const b=function(o){return{"background-color":o}},y=function(o){return{color:o}};function G(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div",136)(1,"a",137),e.NdJ("click",function(){const r=e.CHM(t).$implicit,a=e.oxw();return e.KtG(!a.bookedSlots.includes(r.start_time+"-"+r.end_time)&&a.selectSlot(r.start_time+"-"+r.end_time))}),e.TgZ(2,"a",138),e._uU(3),e.qZA()()()}if(2&o){const t=l.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngStyle",e.VKq(4,b,i.bookedSlots.includes(t.start_time+"-"+t.end_time)?"grey":i.selectedSlotIndex==t.start_time+"-"+t.end_time?"#0b19df":null)),e.xp6(1),e.Q6J("ngStyle",e.VKq(6,y,i.bookedSlots.includes(t.start_time+"-"+t.end_time)||i.selectedSlotIndex==t.start_time+"-"+t.end_time?"white":null)),e.xp6(1),e.AsE(" ",t.start_time," - ",t.end_time,"")}}function R(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div",139)(1,"a",140),e.NdJ("click",function(){const r=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.savePayment(r.id))}),e._UZ(2,"div",141),e.TgZ(3,"a",142),e._uU(4),e.qZA(),e.TgZ(5,"a",143),e._UZ(6,"i",144),e.qZA()()()}if(2&o){const t=l.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngStyle",e.VKq(5,b,i.paymentId==t.id?"#0b19df":null)),e.xp6(1),e.Q6J("ngStyle",e.VKq(7,C,"url("+i.api.mediaURL+t.cover+"),url(assets/images/placeholder.jpg)")),e.xp6(1),e.Q6J("ngStyle",e.VKq(9,y,i.paymentId==t.id?"white":null)),e.xp6(1),e.hij(" ",t.name,""),e.xp6(2),e.Q6J("ngStyle",e.VKq(11,y,"white"))}}function B(o,l){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.AsE("",t.util.currencySymbol," ",t.serviceCart.grandTotal,"")}}function $(o,l){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.AsE("",t.serviceCart.grandTotal," ",t.util.currencySymbol,"")}}function V(o,l){1&o&&e._UZ(0,"i",145)}function X(o,l){1&o&&e._UZ(0,"i",146)}function ee(o,l){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.AsE(" ",t.util.currecny," ",t.balance," ")}}function te(o,l){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.AsE(" ",t.balance," ",t.util.currecny," ")}}function ie(o,l){if(1&o&&(e.TgZ(0,"span",147),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.AsE("",t.util.currencySymbol," ",t.serviceCart.totalPrice,"")}}function se(o,l){if(1&o&&(e.TgZ(0,"span",147),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.AsE("",t.serviceCart.totalPrice," ",t.util.currencySymbol,"")}}function oe(o,l){if(1&o&&(e.TgZ(0,"span",148),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.AsE("",t.util.currencySymbol," -",t.serviceCart.discount,"")}}function re(o,l){if(1&o&&(e.TgZ(0,"span",148),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.AsE("-",t.serviceCart.discount," ",t.util.currencySymbol,"")}}function ae(o,l){if(1&o&&(e.TgZ(0,"span",147),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.AsE("",t.util.currencySymbol," ",t.serviceCart.orderTax,"")}}function le(o,l){if(1&o&&(e.TgZ(0,"span",147),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.AsE("",t.serviceCart.orderTax," ",t.util.currencySymbol,"")}}function ne(o,l){if(1&o&&(e.TgZ(0,"span",147),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.AsE("",t.util.currencySymbol," ",t.serviceCart.deliveryCharge,"")}}function ce(o,l){if(1&o&&(e.TgZ(0,"span",147),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.AsE("",t.serviceCart.deliveryCharge," ",t.util.currencySymbol,"")}}function de(o,l){if(1&o&&(e.TgZ(0,"span",149),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.AsE("",t.util.currencySymbol," ",t.serviceCart.grandTotal,"")}}function ue(o,l){if(1&o&&(e.TgZ(0,"span",149),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.AsE("",t.serviceCart.grandTotal," ",t.util.currencySymbol,"")}}function pe(o,l){if(1&o&&(e.TgZ(0,"h5",92),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",t.util.translate("Add Delivery Address")," ")}}function he(o,l){if(1&o&&(e.TgZ(0,"h5",92),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",t.util.translate("Update Delivery Address")," ")}}function ge(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"button",150),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.getLatLngFromAddress())}),e._uU(1),e.qZA()}if(2&o){const t=e.oxw();e.xp6(1),e.hij("",t.util.translate("Add")," ")}}function me(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"button",150),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.getLatLngFromAddress())}),e._uU(1),e.qZA()}if(2&o){const t=e.oxw();e.xp6(1),e.hij("",t.util.translate("Update")," ")}}function _e(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div")(1,"div",151)(2,"p")(3,"span",152),e._uU(4),e.qZA(),e._UZ(5,"br"),e.TgZ(6,"span",153),e._uU(7),e.qZA()(),e.TgZ(8,"div",154),e.NdJ("click",function(){const r=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.selectedOffers(r))}),e._uU(9),e.qZA()()()}if(2&o){const t=l.$implicit,i=e.oxw();e.xp6(4),e.Oqu(t.name),e.xp6(3),e.hij("",t.short_descriptions," "),e.xp6(2),e.hij(" ",i.util.translate("Claim Coupon")," ")}}const k=function(){return{standalone:!0}},fe=[{path:"",component:(()=>{class o{constructor(t,i,s,r,a){this.router=t,this.util=i,this.api=s,this.navParam=r,this.serviceCart=a,this.checkModel={left:!0,middle:!1,right:!1},this.radioModel="Left",this.currentWeek=0,this.days=[],this.orderNotes="",this.paymentId="",this.payMethodName="",this.addressList=[],this.addressTitle=["Home","Office","Other"],this.slotList=[],this.bookedSlots=[],this.offersList=[],this.selectedSlotIndex="",this.freelancerCover="",this.freelancerName="",this.rating=0,this.totalRating=0,this.dayList=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],this.addressId=0,this.title="",this.address="",this.house="",this.landmark="",this.zipcode="",this.lat=0,this.lng=0,this.isNewAddress=!0,this.currency_code="",this.paymentMethodList=[],this.balance=0,this.walletDiscount=0,this.walletCheck=!1,this.serviceCart&&this.serviceCart.totalItemInCart>0?setTimeout(()=>{this.dateConfi(),this.selectedDate=p().format().split("T")[0],this.getSlotsForBookings(),this.getAddress(),this.getPayments(),this.getFreelancerByID(),this.getWalletAmount()},1e3):this.router.navigate([""])}removeService(t){t.isChecked=!1,this.serviceCart.removeItem(t.id),0==this.serviceCart.serviceCart.length&&0==this.serviceCart.packagesCart.length&&this.router.navigate([""])}removePackage(t){t.isChecked=!1,this.serviceCart.removePackage(t.id),0==this.serviceCart.serviceCart.length&&0==this.serviceCart.packagesCart.length&&this.router.navigate([""])}getWalletAmount(){this.api.post_private("v1/profile/getMyWalletBalance",{id:localStorage.getItem("uid")}).then(t=>{console.log("------------------",t),t&&t.status&&200==t.status&&t.data&&(this.balance=parseFloat(t.data.balance),this.walletDiscount=parseFloat(t.data.balance),console.log(this.balance,this.walletDiscount))},t=>{console.log(t)}).catch(t=>{console.log(t)})}getAddress(){const t={id:localStorage.getItem("uid")};this.api.post_private("v1/address/getByUID",t).then(i=>{i&&200==i.status&&(console.log(i),this.addressList=i.data,console.log(this.addressList))},i=>{console.log("Error",i),this.util.apiErrorHandler(i)}).catch(i=>{console.log("Err",i),this.util.apiErrorHandler(i)})}getLatLngFromAddress(){if(""==this.address||""==this.house||""==this.landmark||""==this.zipcode)return this.util.apiErrorHandler(this.util.translate("all fields are required")),!1;const t=new google.maps.Geocoder;this.util.start(),t.geocode({address:this.house+" "+this.landmark+" "+this.address+" "+this.zipcode},(i,s)=>{if(console.log(i,s),"OK"!=s||!i||!i.length)return this.util.stop(),this.util.errorMessage(this.util.translate("Something went wrong")),!1;this.lat=i[0].geometry.location.lat(),this.lng=i[0].geometry.location.lng(),console.log("-----\x3e",this.lat,this.lng),1==this.isNewAddress?this.saveAddress():this.updateAddress()})}saveAddress(){if(""==this.address||""==this.house||""==this.landmark||""==this.zipcode)return this.util.apiErrorHandler(this.util.translate("all fields are required")),!1;const t={uid:localStorage.getItem("uid"),title:this.title,address:this.address,house:this.house,landmark:this.landmark,pincode:this.zipcode,lat:this.lat,lng:this.lng,status:1};this.util.start(),this.api.post_private("v1/address/save",t).then(i=>{i&&200==i.status&&(this.util.stop(),console.log(i),this.deliveryAddress.hide(),this.getAddress(),this.util.suucessMessage(this.util.translate("Address Added")))},i=>{console.log("Error",i),this.util.stop(),this.util.apiErrorHandler(i)}).catch(i=>{console.log("Err",i),this.util.stop(),this.util.apiErrorHandler(i)})}addNewAddress(){this.isNewAddress=!0,this.house="",this.landmark="",this.address="",this.addressId=0,this.zipcode="",this.deliveryAddress.show()}onEditAddress(t){this.addressId=t.id,this.isNewAddress=!1,this.address=t.address,this.house=t.house,this.landmark=t.landmark,this.zipcode=t.pincode,this.title=t.title,this.deliveryAddress.show()}updateAddress(){const t={uid:localStorage.getItem("uid"),title:this.title,address:this.address,id:this.addressId,house:this.house,landmark:this.landmark,pincode:this.zipcode,lat:this.lat,lng:this.lng,status:1};this.util.start(),this.api.post_private("v1/address/update",t).then(i=>{i&&200==i.status&&(this.util.stop(),this.deliveryAddress.hide(),this.getAddress(),console.log(i),this.util.suucessMessage(this.util.translate("Address Updated")))},i=>{console.log("Error",i),this.util.stop(),this.util.apiErrorHandler(i)}).catch(i=>{console.log("Err",i),this.util.stop(),this.util.apiErrorHandler(i)})}selectAddress(t){console.log(t),this.calculateDistance(t.lat,t.lng,t),this.collapse.toggle()}calculateDistance(t,i,s){var r=this;return(0,_.Z)(function*(){let a;console.log(r.serviceCart.deliveredAddress),console.log(r.storeInfo),a=r.storeInfo&&r.storeInfo.lat?yield r.distanceInKmBetweenEarthCoordinates(t,i,r.storeInfo.lat,r.storeInfo.lng):0,console.log(a,r.util.allowDistance),a>parseFloat(r.util.allowDistance)?r.util.errorMessage(r.util.translate("Sorry we deliver the order near to "+r.util.allowDistance)):(0==r.util.deliveryType?(r.serviceCart.deliveryCharge=a*r.util.deliveryCharge,r.serviceCart.deliveredAddress=s):r.serviceCart.deliveryCharge=r.util.deliveryCharge,r.serviceCart.deliveryCharge=parseFloat(r.serviceCart.deliveryCharge).toFixed(2),r.serviceCart.calculateAllCharges()),console.log("delivery charge",r.serviceCart.deliveryCharge)})()}distanceInKmBetweenEarthCoordinates(t,i,s,r){console.log(t,i,s,r);const u=this.degreesToRadians(s-t),m=this.degreesToRadians(r-i);t=this.degreesToRadians(t),s=this.degreesToRadians(s);const n=Math.sin(u/2)*Math.sin(u/2)+Math.sin(m/2)*Math.sin(m/2)*Math.cos(t)*Math.cos(s);return 2*Math.atan2(Math.sqrt(n),Math.sqrt(1-n))*6371}degreesToRadians(t){return t*Math.PI/180}getSlotsForBookings(){let t="";this.serviceCart.serviceCart.length>0?t=this.serviceCart.serviceCart[0].uid:this.serviceCart.packagesCart.length>0&&(t=this.serviceCart.packagesCart[0].uid);const i={week_id:this.dayList.indexOf(p(this.selectedDate).format("dddd")),date:this.selectedDate,uid:t,from:"individual"};this.bookedSlots=[],this.slotList=[],this.api.post_private("v1/timeslots/getSlotsByForBookings",i).then(s=>{console.log(s),s&&s.status&&200==s.status&&s.data&&s.data.slots&&s.bookedSlots&&(this.slotList=JSON.parse(s.data.slots),this.bookedSlots=[],s.bookedSlots.forEach(r=>{this.bookedSlots.push(r.slot)}),console.log(this.slotList),console.log(this.bookedSlots))},s=>{console.log("Error",s),this.util.apiErrorHandler(s)}).catch(s=>{console.log("Err",s),this.util.apiErrorHandler(s)})}selectSlot(t){console.log(t),this.selectedSlotIndex=t,this.sloptCollapse.toggle()}getFreelancerByID(){let t="";this.serviceCart.serviceCart.length>0?t=this.serviceCart.serviceCart[0].uid:this.serviceCart.packagesCart.length>0&&(t=this.serviceCart.packagesCart[0].uid),this.api.post("v1/individual/individualDetails",{id:t}).then(s=>{s&&200==s.status&&(console.log(s),this.freelancerCover=s.userInfo.cover,this.freelancerName=s.userInfo.first_name+" "+s.userInfo.last_name,this.rating=s.data.rating,this.totalRating=s.data.total_rating,this.storeInfo=s.data)},s=>{console.log("Error",s),this.util.apiErrorHandler(s)}).catch(s=>{console.log("Err",s),this.util.apiErrorHandler(s)})}dateConfi(){this.selectedDate=p().format().split("T")[0],this.currentDate=p().format().split("T")[0],this.days=[],this.initDate=p().format();const t=p().startOf("week"),i=p().endOf("week");let s=t;for(;s<=i;){const r={date:s.toDate().getDate(),day:s.format("ddd"),val:s.format(),selectDay:s.format("dddd DD MMMM")};this.days.push(r),s=s.clone().add(1,"d")}}previousWeek(){if(0!==this.currentWeek){this.days=[],this.currentWeek=this.currentWeek-1;const t=p().add(this.currentWeek,"weeks").startOf("week"),i=p().add(this.currentWeek,"weeks").endOf("week");let s=t;for(;s<=i;){const r={date:s.toDate().getDate(),day:s.format("ddd"),val:s.format(),selectDay:s.format("dddd DD MMMM")};this.days.push(r),s=s.clone().add(1,"d")}console.log(this.days)}}selectDate(t){console.log(t),this.currentDate<=t.val.split("T")[0]&&(this.selectedDate=t.val.split("T")[0],console.log(this.selectedDate),this.getSlotsForBookings())}nextWeek(){this.days=[],this.currentWeek++,console.log(this.currentWeek);const t=p().add(this.currentWeek,"weeks").startOf("week"),i=p().add(this.currentWeek,"weeks").endOf("week");let s=t;for(;s<=i;){const r={date:s.toDate().getDate(),day:s.format("ddd"),val:s.format(),selectDay:s.format("dddd DD MMMM")};this.days.push(r),s=s.clone().add(1,"d")}console.log(this.days)}addCoupon(){this.getActiveOffers(),this.couponModal.show()}removeOffer(){this.serviceCart.coupon=null,this.serviceCart.calcuate(),localStorage.removeItem("selectedOffer")}selectedOffers(t){if(this.serviceCart&&this.serviceCart.walletDiscount&&this.serviceCart.walletDiscount>0)return this.util.errorMessage(this.util.translate("Sorry you have already added a wallet discount to cart")),!1;console.log(t,this.storeInfo);const i=t.freelancer_ids.split(",").map(Number);console.log(i),console.log(i.includes(this.storeInfo.uid)),i.includes(this.storeInfo.uid)?(this.serviceCart.coupon=t,this.serviceCart.calculateAllCharges(),this.couponModal.hide()):this.util.errorMessage(this.util.translate("This coupon is not valid for ")+this.freelancerName)}getActiveOffers(){this.util.start(),this.api.get_private("v1/offers/getActive").then(t=>{this.util.stop(),console.log(t),t&&200==t.status&&(this.offersList=t.data,console.log(this.offersList))},t=>{console.log("Error",t),this.util.stop(),this.util.apiErrorHandler(t)}).catch(t=>{console.log("Err",t),this.util.stop(),this.util.apiErrorHandler(t)})}getPayments(){this.api.get_private("v1/payments/getPayments").then(t=>{t&&200==t.status&&(console.log(t),this.paymentMethodList=t.data,console.log(this.paymentMethodList),this.paymentMethodList.filter(a=>8==a.id).length&&this.util.loadScript("https://checkout.flutterwave.com/v3.js"),this.paymentMethodList.filter(a=>7==a.id).length&&this.util.loadScript("https://js.paystack.co/v1/inline.js"),this.paymentMethodList.filter(a=>5==a.id).length&&this.util.loadScript("https://checkout.razorpay.com/v1/checkout.js"))},t=>{console.log("Error",t),this.util.apiErrorHandler(t)}).catch(t=>{console.log("Err",t),this.util.apiErrorHandler(t)})}savePayment(t){console.log(t),this.paymentId=t,1==this.paymentId?this.payMethodName="cod":2==this.paymentId?this.payMethodName="stripe":3==this.paymentId?this.payMethodName="paypal":4==this.paymentId?this.payMethodName="paytm":5==this.paymentId?this.payMethodName="razorpay":6==this.paymentId?this.payMethodName="instamojo":7==this.paymentId?this.payMethodName="paystack":8==this.paymentId&&(this.payMethodName="flutterwave")}onCheckout(){return this.serviceCart.deliveredAddress&&this.serviceCart.deliveredAddress.address&&this.serviceCart.deliveredAddress.lat?""==this.selectedSlotIndex?(console.log("Please select Slot"),this.util.errorMessage(this.util.translate("Please select Slot")),!1):void(0!=this.paymentId?1==this.paymentId?this.createOrder("COD"):2==this.paymentId?this.stripeWebCheckout():3==this.paymentId?this.payPalWebPay():4==this.paymentId?this.payTmWeb():5==this.paymentId?this.razoryPayWeb():6==this.paymentId?this.payWithInstaMOJOWeb():7==this.paymentId?this.paystackWeb():8==this.paymentId&&this.flutterwaveWeb():this.util.errorMessage(this.util.translate("Please select payment method"))):(console.log("Please select Address"),this.util.errorMessage(this.util.translate("Please select Address")),!1)}stripeWebCheckout(){console.log("stripe web checkout");let t="";this.serviceCart.serviceCart.length>0?t=this.serviceCart.serviceCart[0].uid:this.serviceCart.packagesCart.length>0&&(t=this.serviceCart.packagesCart[0].uid);const i={uid:localStorage.getItem("uid"),freelancer_id:t,salon_id:0,specialist_id:0,appointments_to:1,address:JSON.stringify(this.serviceCart.deliveredAddress),items:localStorage.getItem("userCart"),coupon_id:this.serviceCart&&this.serviceCart.coupon&&this.serviceCart.coupon.id?this.serviceCart.coupon.id:0,coupon:this.serviceCart&&this.serviceCart.coupon&&this.serviceCart.coupon.id?JSON.stringify(this.serviceCart.coupon):"NA",discount:this.serviceCart.discount,distance_cost:this.serviceCart.deliveryCharge,total:this.serviceCart.totalPrice,serviceTax:this.serviceCart.orderTax,grand_total:this.serviceCart.grandTotal,pay_method:this.paymentId,paid:"NA",save_date:this.selectedDate,slot:this.selectedSlotIndex,wallet_used:1==this.walletCheck&&this.walletDiscount>0?1:0,wallet_price:1==this.walletCheck&&this.walletDiscount>0?this.walletDiscount:0,notes:""==this.orderNotes||null==this.orderNotes?"NA":this.orderNotes,status:8};console.log("param-----\x3e",i),this.util.start(),this.api.post_private("v1/appoinments/create",i).then(s=>{if(console.log(s),this.util.stop(),s&&s.status&&200==s.status&&s.data&&s.data.id){const a=Math.round(100*this.serviceCart.grandTotal),u=s.data.id,m={amount:a,order_id:u};this.util.start(),this.api.post_private("v1/payments/stripeWebCheckout",m).then(n=>{if(console.log("stripe pay response",n),this.util.stop(),n&&n.status&&200==n.status&&n.success&&""!=n.success.url){const c={queryParams:{id:u,payLink:n.success.url}};this.serviceCart.clearCart(),this.router.navigate(["/await-payments"],c)}else{const c=JSON.parse(n.error);if(console.log("error message",c),c&&c.message)return this.util.errorMessage(c.message),!1;this.util.errorMessage(this.util.translate("Something went wrong while payments. please contact administrator"))}},n=>{console.log(n),this.util.stop(),this.util.apiErrorHandler(n)}).catch(n=>{console.log(n),this.util.stop(),this.util.apiErrorHandler(n)})}},s=>{console.log(s),this.util.stop(),this.util.apiErrorHandler(s)}).catch(s=>{console.log(s),this.util.stop(),this.util.apiErrorHandler(s)})}flutterwaveWeb(){this.util.start(),this.api.get_private("v1/getFlutterwaveKey").then(t=>{if(console.log(t),this.util.stop(),t&&t.status&&200==t.status&&t.data){const i=this.paymentMethodList.filter(s=>s.id==this.paymentId);console.log(i),FlutterwaveCheckout({public_key:t.data,tx_ref:""+Math.floor(1e9*Math.random()+1),amount:this.serviceCart.grandTotal,currency:i[0].currency_code,payment_options:"card, mobilemoneyghana, ussd",meta:{consumer_id:23,consumer_mac:"92a3-912ba-1192a"},customer:{email:this.getEmail(),phone_number:localStorage.getItem("mobile"),name:this.getName()},callback:s=>{console.log(s),document.getElementsByName("checkout")[0].setAttribute("style","position:fixed;top:0;left:0;z-index:-1;border:none;opacity:0;pointer-events:none;width:100%;height:100%;"),document.body.style.overflow="",this.createOrder(JSON.stringify(s))},onclose:s=>{console.log("closed",s)},customizations:{title:this.util.app_name,description:this.util.app_name+" Order",logo:this.api.mediaURL+this.util.logo}})}},t=>{console.log(t),this.util.stop(),this.util.apiErrorHandler(t)}).catch(t=>{console.log(t),this.util.stop(),this.util.apiErrorHandler(t)})}paystackWeb(){this.util.start(),this.api.get_private("v1/getPaystackKey").then(t=>{if(console.log(t),this.util.stop(),t&&t.status&&200==t.status&&t.data){const i=this.paymentMethodList.filter(r=>r.id==this.paymentId);console.log(i),PaystackPop.setup({key:t.data,currency:i[0].currency_code,email:this.getEmail(),amount:100*this.serviceCart.grandTotal,firstname:this.getFirstName(),lastname:this.getLastName(),ref:""+Math.floor(1e9*Math.random()+1),onClose:()=>{console.log("closed")},callback:r=>{console.log(r),this.createOrder(r.reference)}}).openIframe()}},t=>{console.log(t),this.util.stop(),this.util.apiErrorHandler(t)}).catch(t=>{console.log(t),this.util.stop(),this.util.apiErrorHandler(t)})}payWithInstaMOJOWeb(){var t=this;return(0,_.Z)(function*(){let i="";t.serviceCart.serviceCart.length>0?i=t.serviceCart.serviceCart[0].uid:t.serviceCart.packagesCart.length>0&&(i=t.serviceCart.packagesCart[0].uid);const s={uid:localStorage.getItem("uid"),freelancer_id:i,salon_id:0,specialist_id:0,appointments_to:1,address:JSON.stringify(t.serviceCart.deliveredAddress),items:localStorage.getItem("userCart"),coupon_id:t.serviceCart&&t.serviceCart.coupon&&t.serviceCart.coupon.id?t.serviceCart.coupon.id:0,coupon:t.serviceCart&&t.serviceCart.coupon&&t.serviceCart.coupon.id?JSON.stringify(t.serviceCart.coupon):"NA",discount:t.serviceCart.discount,distance_cost:t.serviceCart.deliveryCharge,total:t.serviceCart.totalPrice,serviceTax:t.serviceCart.orderTax,grand_total:t.serviceCart.grandTotal,pay_method:t.paymentId,paid:"NA",save_date:t.selectedDate,slot:t.selectedSlotIndex,wallet_used:1==t.walletCheck&&t.walletDiscount>0?1:0,wallet_price:1==t.walletCheck&&t.walletDiscount>0?t.walletDiscount:0,notes:""==t.orderNotes||null==t.orderNotes?"NA":t.orderNotes,status:8};console.log("param-----\x3e",s),t.util.start(),t.api.post_private("v1/appoinments/create",s).then(r=>{if(console.log(r),t.util.stop(),r&&r.status&&200==r.status&&r.data&&r.data.id){const u=r.data.id,m={allow_repeated_payments:"False",amount:t.serviceCart.grandTotal,buyer_name:t.getName(),purpose:t.util.app_name+" Orders",redirect_url:t.api.baseUrl+"v1/instaMOJOWebSuccessAppointments?id="+u,phone:localStorage.getItem("mobile")&&null!=localStorage.getItem("mobile")?localStorage.getItem("mobile"):"",send_email:"True",webhook:t.api.baseUrl,send_sms:"True",email:t.getEmail()};t.util.start(),t.api.post_private("v1/payments/instamojoPay",m).then(n=>{if(console.log("instamojo response",n),t.util.stop(),n&&n.status&&200==n.status&&n.success&&1==n.success.success){const c={queryParams:{id:u,payLink:n.success.payment_request.longurl}};t.serviceCart.clearCart(),t.router.navigate(["/await-payments"],c)}else{const c=JSON.parse(n.error);if(console.log("error message",c),c&&c.message)return t.util.errorMessage(c.message),!1;t.util.errorMessage(t.util.translate("Something went wrong while payments. please contact administrator"))}},n=>{console.log(n),t.util.stop(),t.util.apiErrorHandler(n)}).catch(n=>{console.log(n),t.util.stop(),t.util.apiErrorHandler(n)})}},r=>{console.log(r),t.util.stop(),t.util.apiErrorHandler(r)}).catch(r=>{console.log(r),t.util.stop(),t.util.apiErrorHandler(r)})})()}payTmWeb(){var t=this;return(0,_.Z)(function*(){let i="";t.serviceCart.serviceCart.length>0?i=t.serviceCart.serviceCart[0].uid:t.serviceCart.packagesCart.length>0&&(i=t.serviceCart.packagesCart[0].uid);const s={uid:localStorage.getItem("uid"),freelancer_id:i,salon_id:0,specialist_id:0,appointments_to:1,address:JSON.stringify(t.serviceCart.deliveredAddress),items:localStorage.getItem("userCart"),coupon_id:t.serviceCart&&t.serviceCart.coupon&&t.serviceCart.coupon.id?t.serviceCart.coupon.id:0,coupon:t.serviceCart&&t.serviceCart.coupon&&t.serviceCart.coupon.id?JSON.stringify(t.serviceCart.coupon):"NA",discount:t.serviceCart.discount,distance_cost:t.serviceCart.deliveryCharge,total:t.serviceCart.totalPrice,serviceTax:t.serviceCart.orderTax,grand_total:t.serviceCart.grandTotal,pay_method:t.paymentId,paid:"NA",save_date:t.selectedDate,slot:t.selectedSlotIndex,wallet_used:1==t.walletCheck&&t.walletDiscount>0?1:0,wallet_price:1==t.walletCheck&&t.walletDiscount>0?t.walletDiscount:0,notes:""==t.orderNotes||null==t.orderNotes?"NA":t.orderNotes,status:8};console.log("param-----\x3e",s),t.util.start(),t.api.post_private("v1/appoinments/create",s).then(r=>{if(console.log(r),t.util.stop(),r&&r.status&&200==r.status&&r.data&&r.data.id){const u={queryParams:{id:r.data.id,payLink:t.api.baseUrl+"v1/payNowWeb?amount="+t.serviceCart.grandTotal+"&standby_id="+r.data.id}};t.serviceCart.clearCart(),t.router.navigate(["/await-payments"],u)}},r=>{console.log(r),t.util.stop(),t.util.apiErrorHandler(r)}).catch(r=>{console.log(r),t.util.stop(),t.util.apiErrorHandler(r)})})()}payPalWebPay(){var t=this;this.util.start(),this.api.get_private("v1/getPayPalKey").then(function(){var i=(0,_.Z)(function*(s){if(console.log(s),t.util.stop(),s&&s.status&&200==s.status&&s.data){const r=t.paymentMethodList.filter(a=>a.id==t.paymentId);console.log(r),t.payPalModal.show(),t.initConfig(r[0].currency_code,s.data)}});return function(s){return i.apply(this,arguments)}}(),i=>{console.log(i),this.util.stop(),this.util.apiErrorHandler(i)}).catch(i=>{console.log(i),this.util.stop(),this.util.apiErrorHandler(i)})}initConfig(t,i){this.payPalConfig={currency:t,clientId:i,createOrderOnClient:s=>({intent:"CAPTURE",purchase_units:[{amount:{currency_code:t,value:this.serviceCart.grandTotal,breakdown:{item_total:{currency_code:t,value:this.serviceCart.grandTotal}}}}]}),advanced:{commit:"true"},style:{label:"paypal",layout:"vertical"},onApprove:(s,r)=>{console.log("onApprove - transaction was approved, but not authorized",s,r),r.order.get().then(a=>{console.log("onApprove - you can get full order details inside onApprove: ",a)})},onClientAuthorization:s=>{console.log("onClientAuthorization - you should probably inform your server about completed transaction at this point",s),this.payPalModal.hide(),this.createOrder(JSON.stringify(s))},onCancel:(s,r)=>{console.log("OnCancel",s,r)},onError:s=>{console.log("OnError",s)},onClick:(s,r)=>{console.log("onClick",s,r)}}}onOrderHistory(){this.successModal.hide();const t=(this.util.userInfo.first_name+"-"+this.util.userInfo.last_name).toLowerCase();this.router.navigate(["user",t,"appointment"])}onHome(){this.successModal.hide(),this.router.navigate([""])}createOrder(t){var i=this;return(0,_.Z)(function*(){console.log(i.address);let s="";i.serviceCart.serviceCart.length>0?s=i.serviceCart.serviceCart[0].uid:i.serviceCart.packagesCart.length>0&&(s=i.serviceCart.packagesCart[0].uid);const r={uid:localStorage.getItem("uid"),freelancer_id:s,salon_id:0,specialist_id:0,appointments_to:1,address:JSON.stringify(i.serviceCart.deliveredAddress),items:localStorage.getItem("userCart"),coupon_id:i.serviceCart&&i.serviceCart.coupon&&i.serviceCart.coupon.id?i.serviceCart.coupon.id:0,coupon:i.serviceCart&&i.serviceCart.coupon&&i.serviceCart.coupon.id?JSON.stringify(i.serviceCart.coupon):"NA",discount:i.serviceCart.discount,distance_cost:i.serviceCart.deliveryCharge,total:i.serviceCart.totalPrice,serviceTax:i.serviceCart.orderTax,grand_total:i.serviceCart.grandTotal,pay_method:i.paymentId,paid:t,save_date:i.selectedDate,slot:i.selectedSlotIndex,wallet_used:1==i.walletCheck&&i.walletDiscount>0?1:0,wallet_price:1==i.walletCheck&&i.walletDiscount>0?i.walletDiscount:0,notes:""==i.orderNotes||null==i.orderNotes?"NA":i.orderNotes,status:0};console.log("param-----\x3e",r),i.util.start(),i.api.post_private("v1/appoinments/create",r).then(a=>{a&&200==a.status&&(i.util.stop(),console.log(a),i.serviceCart.clearCart(),i.successModal.show())},a=>{console.log("Error",a),i.util.stop(),i.util.apiErrorHandler(a)}).catch(a=>{console.log("Err",a),i.util.stop(),i.util.apiErrorHandler(a)})})()}walletChange(){if(this.balance<=0||this.serviceCart.coupon)return!1;if(console.log("ok"),this.walletCheck=!this.walletCheck,1==this.walletCheck){if(this.serviceCart&&this.serviceCart.coupon&&this.serviceCart.coupon.id)return this.util.errorMessage(this.util.translate("Sorry you have already added a offers discount to cart")),this.walletCheck=!1,!1;this.serviceCart.walletDiscount=parseFloat(this.balance),this.serviceCart.calcuate()}else this.serviceCart.walletDiscount=0,this.serviceCart.calcuate()}ngOnInit(){}razoryPayWeb(){this.util.start(),this.api.get_private("v1/getRazorPayKey").then(t=>{if(console.log(t),this.util.stop(),t&&t.status&&200==t.status&&t.data){const r=this.paymentMethodList.filter(a=>a.id==this.paymentId);console.log(r);var i={amount:this.serviceCart.grandTotal?100*this.serviceCart.grandTotal:5,email:this.getEmail(),logo:this.util&&this.util.logo?this.api.mediaURL+this.util.logo:"null",name:this.getName(),app_color:this.util&&this.util.app_color?this.util.app_color:"#f47878",key:t.data,currency:r[0].currency_code,description:this.util.app_name+" Order Of "+this.serviceCart.grandTotal+" amount",handler:a=>{console.log(a),this.verifyPurchaseRazorPay(a.razorpay_payment_id)}};console.log(i),new Razorpay(i).open()}},t=>{console.log(t),this.util.stop(),this.util.apiErrorHandler(t)}).catch(t=>{console.log(t),this.util.stop(),this.util.apiErrorHandler(t)})}getName(){return null!=localStorage.getItem("lastName")&&""!=localStorage.getItem("lastName")?localStorage.getItem("firstName")+" "+localStorage.getItem("lastName"):"Foodies"}getEmail(){return null!=localStorage.getItem("email")&&localStorage.getItem("email")?localStorage.getItem("email"):"info@initappz.com"}getFirstName(){return localStorage.getItem("firstName")&&null!=localStorage.getItem("firstName")?localStorage.getItem("firstName"):""}getLastName(){return localStorage.getItem("lastName")&&null!=localStorage.getItem("lastName")?localStorage.getItem("lastName"):""}verifyPurchaseRazorPay(t){this.util.start(),this.api.get_private("v1/payments/VerifyRazorPurchase?id="+t).then(i=>{console.log(i),i&&i.status&&200==i.status&&i.success&&i.success.status&&"captured"==i.success.status?(this.util.stop(),this.createOrder(JSON.stringify(i.success))):(this.util.stop(),this.util.errorMessage(this.util.translate("Something went wrong while payments. please contact administrator")))},i=>{console.log(i),this.util.stop(),this.util.errorMessage(this.util.translate("Something went wrong while payments. please contact administrator"))}).catch(i=>{console.log(i),this.util.stop(),this.util.errorMessage(this.util.translate("Something went wrong while payments. please contact administrator"))})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(v.F0),e.Y36(Z.f),e.Y36(A.s),e.Y36(v.gz),e.Y36(w.I))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-freelancer-checkout"]],viewQuery:function(t,i){if(1&t&&(e.Gf(M,7),e.Gf(N,7),e.Gf(I,7),e.Gf(S,5),e.Gf(F,5),e.Gf(q,5)),2&t){let s;e.iGM(s=e.CRH())&&(i.deliveryAddress=s.first),e.iGM(s=e.CRH())&&(i.couponModal=s.first),e.iGM(s=e.CRH())&&(i.successModal=s.first),e.iGM(s=e.CRH())&&(i.payPalModal=s.first),e.iGM(s=e.CRH())&&(i.collapse=s.first),e.iGM(s=e.CRH())&&(i.sloptCollapse=s.first)}},decls:208,vars:84,consts:[[1,"main-content","bg-light","p-1"],[1,"py-4","service-main-body"],[1,"container"],[1,"row"],[1,"col-lg-8"],[1,"pb-3"],[1,"bg-white","border-0","p-0"],[1,"mb-0","ff-medium","shadow-sm"],["type","button",1,"rounded","border-0","d-flex","align-items-center","bg-white","btn-block","px-3","py-4","m-0",3,"click"],[1,"c-number"],["mdbCollapse",""],["id1","bs-collapse"],[1,"card-body","p-0","border-top","shadow-sm","service-cart"],[1,"cart-items","bg-white","p-3"],["class","d-flex align-items-center mb-3",4,"ngFor","ngForOf"],[1,"mb-0","mt-2","ff-medium","shadow-sm"],[1,"d-flex","justify-content-between","align-items-center"],["type","button",1,"rounded","border-0","d-flex","align-items-center","bg-white","ff-medium","btn-block","px-3","py-4","m-0",3,"click"],[1,"ff-medium","f-primary","text-right","w-75","mr-2",3,"click"],["class","p-3 border bg-white rounded shadow-sm m-3",4,"ngIf"],["id2","bs-collapse"],[1,"card-body","p-0","border-top","shadow-sm"],[1,"p-3","row"],["class","col-lg-6 mb-1 ",4,"ngFor","ngForOf"],["id3","bs-collapse"],[1,"bg-white","border-bottom","p-3"],[1,"d-flex","align-item-center","select-date"],[3,"click"],["fas","","icon","angle-left",4,"ngIf"],["class","border rounded mx-lg-2 mx-1",3,"disabled","click",4,"ngFor","ngForOf"],["fas","","icon","angle-right"],[1,"row","mt-2"],["class","col-md-6 px-lg-3 p-2 col-6 slot-list",4,"ngFor","ngForOf"],["id4","bs-collapse"],[1,"mt-2"],["class","payment-list d-block",4,"ngFor","ngForOf"],[1,"pt-4"],["type","button","mdbBtn","","mdbWavesEffect","",1,"rounded","text-white","m-0","btn-color","btn-block",3,"click"],[1,"m-0","text-capitalize","ff-medium"],[4,"ngIf"],[1,"m-0","text-capitalize"],[1,"col-lg-4"],[1,"sticky_sidebar"],[1,"pd","bg-white","rounded","overflow-hidden","shadow-sm","mb-3","checkout-sidebar"],[1,"d-flex","align-items-center","profile","border-bottom","bg-white","p-3"],[1,"mr-3","rounded-circle","img-fluid",3,"ngStyle"],[1,"d-flex","flex-column"],[1,"mb-1","ff-bold"],[1,"px-3","pt-3","notes"],["type","text","rows","1","placeholder","Write Notes",1,"textarea",3,"ngModel","ngModelChange"],[1,"apply-coupon","mx-3",3,"click"],["fas","","icon","tags",1,"prefix","grey-text","pr-1"],[1,"wallet_box",3,"ngStyle"],[1,"head_lbl"],[1,"checkmark",3,"click"],["class","fas fa-check-circle",4,"ngIf"],["class","far fa-circle",4,"ngIf"],[1,"bg-white","px-3","py-2"],[1,"ff-bold","small"],[1,"mb-1"],["class","float-right text-dark",4,"ngIf"],["class","float-right text-danger",4,"ngIf"],[1,"p-3","border-top"],[1,"m-0","ff-medium","h5"],["class","float-right ff-medium h5 f-primary",4,"ngIf"],["mdbModal","","id","deliveryAddressModalTop","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade","center",2,"z-index","999999"],["deliveryAddress","mdbModal"],["role","document",1,"modal-dialog","modal-dialog-scrollable"],[1,"modal-content"],[1,"modal-header","text-center"],["class","modal-title w-100 ff-medium",4,"ngIf"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","mx-3"],[1,"md-form","mb-5"],["type","text","id","form34","mdbInput","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["for","form34"],["type","text","id","form29","mdbInput","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["for","form29"],["type","text","id","form32","mdbInput","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["for","form32"],[1,"md-form"],[1,"custom-select",3,"ngModel","ngModelChange"],["value","0","selected",""],["value","1"],["value","2"],[1,"modal-footer","d-flex","justify-content-center"],["mdbBtn","","color","light","mdbWavesEffect","",1,"waves-light","btn-color","text-dark",3,"click"],["mdbBtn","","class","waves-light btn-color text-white","mdbWavesEffect","",3,"click",4,"ngIf"],["mdbModal","","id","couponModalTop","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade","right",2,"z-index","999999"],["couponModal","mdbModal"],["role","document",1,"modal-dialog","modal-full-height","modal-right"],[1,"modal-title","w-100","ff-medium"],[1,"modal-body"],[4,"ngFor","ngForOf"],["mdbModal","","tabindex","-1","role","dialog","aria-labelledby","myBasicModalLabel","aria-hidden","true",1,"modal","fade",2,"z-index","999999"],["successModal","mdbModal"],["role","document",1,"modal-dialog","modal-notify","modal-success","modal-dialog-scrollable"],[1,"modal-title","w-100","ff-medium","text-white"],["aria-hidden","true",1,"white-text"],[1,"text-center","confirm-modal"],["src","assets/images/logo.png","alt","",2,"height","100px","width","100px"],[1,"confirm-bold","mt-3"],[1,"modal-footer","justify-content-center"],["type","button","mdbBtn","","color","success","outline","true","mdbWavesEffect","",1,"waves-effect",3,"click"],["type","button","mdbBtn","","color","success","mdbWavesEffect","",1,"waves-effect",3,"click"],["mdbModal","","id","frameModalTop","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade","center",2,"z-index","99999"],["payPalModal","mdbModal"],["role","document",1,"modal-dialog","modal-notify","modal-danger","modal-dialog-scrollable"],[1,"modal-header"],[1,"heading","lead",2,"text-align","center"],[3,"config"],[1,"d-flex","align-items-center","mb-3"],[1,"img-fluid",3,"ngStyle"],[1,"ml-3","text-dark","text-decoration-none","w-100"],[1,"head-text"],[1,"sub-text"],[1,"d-flex","align-items-center"],[1,"h6","text-muted","small","m-0","mr-3"],[1,"h5","ff-medium","f-primary","m-0"],["class","ff-medium head-text",4,"ngIf"],[1,"d-flex","ml-auto"],[1,"far","fa-check-square",2,"font-size","2rem","color","gray",3,"click"],[1,"ff-medium","head-text"],[1,"p-3","border","bg-white","rounded","shadow-sm","m-3"],[1,"d-flex","align-items-center","mb-2"],[1,"h6","mb-1","f-primary","ff-bold"],[1,"f-primary","small",3,"click"],[1,"text-muted","m-0","mt-2","small"],[1,"col-lg-6","mb-1"],[1,"p-3","border","bg-white","rounded","shadow-sm","w-100"],[1,"outline-btn","mt-2",3,"click"],["fas","","icon","angle-left"],[1,"border","rounded","mx-lg-2","mx-1",3,"click"],[1,"lbl_day","body-text"],[1,"lbl_date","body-text"],[1,"col-md-6","px-lg-3","p-2","col-6","slot-list"],[1,"slot-name","mt-2","py-2","text-center","lbl_slot","border",3,"ngStyle","click"],[1,"text-center","ff-medium","body-text",3,"ngStyle"],[1,"payment-list","d-block"],[1,"payment-name","mt-3","py-1","text-start","pl-3","d-flex","align-items-center","border",3,"ngStyle","click"],[1,"payment-img",3,"ngStyle"],[1,"text-center","pl-3",3,"ngStyle"],[1,"ml-auto","pr-3"],[1,"far","fa-check-circle",3,"ngStyle"],[1,"fas","fa-check-circle"],[1,"far","fa-circle"],[1,"float-right","text-dark"],[1,"float-right","text-danger"],[1,"float-right","ff-medium","h5","f-primary"],["mdbBtn","","mdbWavesEffect","",1,"waves-light","btn-color","text-white",3,"click"],[1,"border","p-3"],[1,"ff-bold","h6"],[1,"text-muted","pt-2"],[1,"outline-btn",3,"click"]],template:function(t,i){if(1&t){const s=e.EpF();e.TgZ(0,"div",0)(1,"section",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"button",8),e.NdJ("click",function(){e.CHM(s);const a=e.MAs(13);return e.KtG(a.toggle())}),e.TgZ(9,"span",9),e._uU(10,"1"),e.qZA(),e._uU(11),e.qZA()(),e.TgZ(12,"div",10,11)(14,"div",12)(15,"div",13),e.YNc(16,D,18,10,"div",14),e.YNc(17,W,18,10,"div",14),e.qZA()()()()(),e.TgZ(18,"div",5)(19,"div",6)(20,"div",15)(21,"div",16)(22,"button",17),e.NdJ("click",function(){e.CHM(s);const a=e.MAs(30);return e.KtG(a.toggle())}),e.TgZ(23,"span",9),e._uU(24,"2"),e.qZA(),e._uU(25),e.qZA(),e.TgZ(26,"a",18),e.NdJ("click",function(){return i.addNewAddress()}),e._uU(27),e.qZA()(),e.YNc(28,L,9,6,"div",19),e.qZA(),e.TgZ(29,"div",10,20)(31,"div",21)(32,"div",22),e.YNc(33,Y,12,7,"div",23),e.qZA()()()()(),e.TgZ(34,"div",5)(35,"div",6)(36,"div",15)(37,"button",8),e.NdJ("click",function(){e.CHM(s);const a=e.MAs(42);return e.KtG(a.toggle())}),e.TgZ(38,"span",9),e._uU(39,"3"),e.qZA(),e._uU(40),e.qZA()(),e.TgZ(41,"div",10,24)(43,"div",21)(44,"div",25)(45,"div",26)(46,"div",27),e.NdJ("click",function(){return i.previousWeek()}),e.YNc(47,z,1,0,"mdb-icon",28),e.qZA(),e.YNc(48,K,5,8,"div",29),e.TgZ(49,"div",27),e.NdJ("click",function(){return i.nextWeek()}),e._UZ(50,"mdb-icon",30),e.qZA()(),e.TgZ(51,"div",31),e.YNc(52,G,4,8,"div",32),e.qZA()()()()()(),e.TgZ(53,"div",5)(54,"div",6)(55,"div",15)(56,"button",8),e.NdJ("click",function(){e.CHM(s);const a=e.MAs(61);return e.KtG(a.toggle())}),e.TgZ(57,"span",9),e._uU(58,"4"),e.qZA(),e._uU(59),e.qZA()(),e.TgZ(60,"div",10,33)(62,"div",21)(63,"div",13)(64,"div",34),e.YNc(65,R,7,13,"div",35),e.qZA(),e.TgZ(66,"div",36)(67,"button",37),e.NdJ("click",function(){return i.onCheckout()}),e.TgZ(68,"div")(69,"div")(70,"h6",38),e._uU(71),e.YNc(72,B,2,2,"span",39),e.YNc(73,$,2,2,"span",39),e.qZA(),e.TgZ(74,"p",40),e._uU(75),e.qZA()()()()()()()()()()(),e.TgZ(76,"div",41)(77,"div",42)(78,"div",43)(79,"div",44),e._UZ(80,"div",45),e.TgZ(81,"div",46)(82,"h6",47),e._uU(83),e.qZA()()(),e.TgZ(84,"div")(85,"div",48)(86,"textarea",49),e.NdJ("ngModelChange",function(a){return i.orderNotes=a}),e.qZA()(),e.TgZ(87,"div",50),e.NdJ("click",function(){return i.addCoupon()}),e.TgZ(88,"div"),e._UZ(89,"mdb-icon",51),e._uU(90),e.qZA()(),e.TgZ(91,"div",52)(92,"label",53),e._uU(93),e.qZA(),e.TgZ(94,"div",54),e.NdJ("click",function(){return i.walletChange()}),e.YNc(95,V,1,0,"i",55),e.YNc(96,X,1,0,"i",56),e._uU(97),e.YNc(98,ee,2,2,"span",39),e.YNc(99,te,2,2,"span",39),e.qZA()(),e.TgZ(100,"div",57)(101,"p",58),e._uU(102),e.qZA(),e.TgZ(103,"p",59),e._uU(104),e.YNc(105,ie,2,2,"span",60),e.YNc(106,se,2,2,"span",60),e.qZA(),e.TgZ(107,"p",59),e._uU(108),e.YNc(109,oe,2,2,"span",61),e.YNc(110,re,2,2,"span",61),e.qZA(),e.TgZ(111,"p",59),e._uU(112),e.YNc(113,ae,2,2,"span",60),e.YNc(114,le,2,2,"span",60),e.qZA(),e.TgZ(115,"p",59),e._uU(116),e.YNc(117,ne,2,2,"span",60),e.YNc(118,ce,2,2,"span",60),e.qZA()(),e.TgZ(119,"div",62)(120,"h6",63),e._uU(121),e.YNc(122,de,2,2,"span",64),e.YNc(123,ue,2,2,"span",64),e.qZA()()()()()()()()()(),e.TgZ(124,"div",65,66)(126,"div",67)(127,"div",68)(128,"div",69),e.YNc(129,pe,2,1,"h5",70),e.YNc(130,he,2,1,"h5",70),e.TgZ(131,"button",71),e.NdJ("click",function(){e.CHM(s);const a=e.MAs(125);return e.KtG(a.hide())}),e.TgZ(132,"span",72),e._uU(133,"\xd7"),e.qZA()()(),e.TgZ(134,"div",73)(135,"div",74)(136,"input",75),e.NdJ("ngModelChange",function(a){return i.house=a}),e.qZA(),e.TgZ(137,"label",76),e._uU(138),e.qZA()(),e.TgZ(139,"div",74)(140,"input",75),e.NdJ("ngModelChange",function(a){return i.address=a}),e.qZA(),e.TgZ(141,"label",76),e._uU(142),e.qZA()(),e.TgZ(143,"div",74)(144,"input",77),e.NdJ("ngModelChange",function(a){return i.landmark=a}),e.qZA(),e.TgZ(145,"label",78),e._uU(146),e.qZA()(),e.TgZ(147,"div",74)(148,"input",79),e.NdJ("ngModelChange",function(a){return i.zipcode=a}),e.qZA(),e.TgZ(149,"label",80),e._uU(150),e.qZA()(),e.TgZ(151,"div",81)(152,"select",82),e.NdJ("ngModelChange",function(a){return i.title=a}),e.TgZ(153,"option",83),e._uU(154),e.qZA(),e.TgZ(155,"option",84),e._uU(156),e.qZA(),e.TgZ(157,"option",85),e._uU(158),e.qZA()()()(),e.TgZ(159,"div",86)(160,"button",87),e.NdJ("click",function(){e.CHM(s);const a=e.MAs(125);return e.KtG(a.hide())}),e._uU(161),e.qZA(),e.YNc(162,ge,2,1,"button",88),e.YNc(163,me,2,1,"button",88),e.qZA()()()(),e.TgZ(164,"div",89,90)(166,"div",91)(167,"div",68)(168,"div",69)(169,"h6",92),e._uU(170),e.qZA(),e.TgZ(171,"button",71),e.NdJ("click",function(){e.CHM(s);const a=e.MAs(165);return e.KtG(a.hide())}),e.TgZ(172,"span",72),e._uU(173,"\xd7"),e.qZA()()(),e.TgZ(174,"div",93),e.YNc(175,_e,10,3,"div",94),e.qZA()()()(),e.TgZ(176,"div",95,96)(178,"div",97)(179,"div",68)(180,"div",69)(181,"h6",98),e._uU(182),e.qZA(),e.TgZ(183,"button",71),e.NdJ("click",function(){e.CHM(s);const a=e.MAs(177);return e.KtG(a.hide())}),e.TgZ(184,"span",99),e._uU(185,"\xd7"),e.qZA()()(),e.TgZ(186,"div",93)(187,"div",100),e._UZ(188,"img",101),e.TgZ(189,"h6",102),e._uU(190),e.qZA()()(),e.TgZ(191,"div",103)(192,"a",104),e.NdJ("click",function(){return i.onHome()}),e._uU(193),e.qZA(),e.TgZ(194,"a",105),e.NdJ("click",function(){return i.onOrderHistory()}),e._uU(195),e.qZA()()()()(),e.TgZ(196,"div",106,107)(198,"div",108)(199,"div",68)(200,"div",109)(201,"p",110),e._uU(202),e.qZA(),e.TgZ(203,"button",71),e.NdJ("click",function(){e.CHM(s);const a=e.MAs(197);return e.KtG(a.hide())}),e.TgZ(204,"span",99),e._uU(205,"\xd7"),e.qZA()()(),e.TgZ(206,"div",93),e._UZ(207,"ngx-paypal",111),e.qZA()()()()}2&t&&(e.xp6(11),e.lnq(" ",i.util.translate("Cart")," (",i.serviceCart.totalItemInCart," ",i.util.translate("items")," ) "),e.xp6(5),e.Q6J("ngForOf",i.serviceCart.serviceCart),e.xp6(1),e.Q6J("ngForOf",i.serviceCart.packagesCart),e.xp6(8),e.hij(" ",i.util.translate("Address")," "),e.xp6(2),e.hij(" ",i.util.translate("+Add New Address")," "),e.xp6(1),e.Q6J("ngIf",i.serviceCart&&i.serviceCart.deliveredAddress&&i.serviceCart.deliveredAddress.address),e.xp6(5),e.Q6J("ngForOf",i.addressList),e.xp6(7),e.hij("",i.util.translate("Select Time")," "),e.xp6(7),e.Q6J("ngIf",0!=i.currentWeek),e.xp6(1),e.Q6J("ngForOf",i.days),e.xp6(4),e.Q6J("ngForOf",i.slotList),e.xp6(7),e.hij("",i.util.translate("Payment")," "),e.xp6(6),e.Q6J("ngForOf",i.paymentMethodList),e.xp6(6),e.hij(" ",i.util.translate("Grand Total")," "),e.xp6(1),e.Q6J("ngIf","left"==i.util.currencySide),e.xp6(1),e.Q6J("ngIf","right"==i.util.currencySide),e.xp6(2),e.hij(" ",i.util.translate("Proceed to Checkout")," "),e.xp6(5),e.Q6J("ngStyle",e.VKq(76,C,"url("+i.api.mediaURL+i.freelancerCover+"),url(assets/images/placeholder.jpg)")),e.xp6(3),e.Oqu(i.freelancerName),e.xp6(3),e.Q6J("ngModel",i.orderNotes),e.xp6(4),e.hij(" ",i.util.translate("Apply Coupon")," "),e.xp6(1),e.Q6J("ngStyle",e.VKq(78,y,i.balance<=0||i.serviceCart.coupon?"gray":"black")),e.xp6(2),e.AsE("",i.util.app_name," ",i.util.translate("Wallet Balance")," "),e.xp6(2),e.Q6J("ngIf",1==i.walletCheck),e.xp6(1),e.Q6J("ngIf",0==i.walletCheck),e.xp6(1),e.hij(" ",i.util.translate("Available Balance")," "),e.xp6(1),e.Q6J("ngIf","left"==i.util.cside),e.xp6(1),e.Q6J("ngIf","right"==i.util.cside),e.xp6(3),e.Oqu(i.util.translate("Bill Details")),e.xp6(2),e.hij(" ",i.util.translate("Service Total")," "),e.xp6(1),e.Q6J("ngIf","left"==i.util.currencySide),e.xp6(1),e.Q6J("ngIf","right"==i.util.currencySide),e.xp6(2),e.hij(" ",i.util.translate("Total Discount")," "),e.xp6(1),e.Q6J("ngIf","left"==i.util.currencySide),e.xp6(1),e.Q6J("ngIf","right"==i.util.currencySide),e.xp6(2),e.hij("",i.util.translate("Taxes and Charges")," "),e.xp6(1),e.Q6J("ngIf","left"==i.util.currencySide),e.xp6(1),e.Q6J("ngIf","right"==i.util.currencySide),e.xp6(2),e.hij("",i.util.translate("Distance Charge")," "),e.xp6(1),e.Q6J("ngIf","left"==i.util.currencySide),e.xp6(1),e.Q6J("ngIf","right"==i.util.currencySide),e.xp6(3),e.hij("",i.util.translate("To Pay")," "),e.xp6(1),e.Q6J("ngIf","left"==i.util.currencySide),e.xp6(1),e.Q6J("ngIf","right"==i.util.currencySide),e.xp6(6),e.Q6J("ngIf",1==i.isNewAddress),e.xp6(1),e.Q6J("ngIf",0==i.isNewAddress),e.xp6(6),e.Q6J("ngModel",i.house)("ngModelOptions",e.DdM(80,k)),e.xp6(2),e.hij("",i.util.translate("House / Flat NO")," "),e.xp6(2),e.Q6J("ngModel",i.address)("ngModelOptions",e.DdM(81,k)),e.xp6(2),e.hij("",i.util.translate("Address")," "),e.xp6(2),e.Q6J("ngModel",i.landmark)("ngModelOptions",e.DdM(82,k)),e.xp6(2),e.hij("",i.util.translate("Landmark")," "),e.xp6(2),e.Q6J("ngModel",i.zipcode)("ngModelOptions",e.DdM(83,k)),e.xp6(2),e.hij("",i.util.translate("Pincode")," "),e.xp6(2),e.Q6J("ngModel",i.title),e.xp6(2),e.hij("",i.util.translate("Home")," "),e.xp6(2),e.hij("",i.util.translate("Office")," "),e.xp6(2),e.hij("",i.util.translate("Other")," "),e.xp6(3),e.hij("",i.util.translate("Cancel")," "),e.xp6(1),e.Q6J("ngIf",1==i.isNewAddress),e.xp6(1),e.Q6J("ngIf",0==i.isNewAddress),e.xp6(7),e.hij("",i.util.translate("Available Coupons")," "),e.xp6(5),e.Q6J("ngForOf",i.offersList),e.xp6(7),e.hij("",i.util.translate("Order Success")," "),e.xp6(8),e.hij("",i.util.translate("Thank You! for your order")," "),e.xp6(3),e.hij("",i.util.translate("Back To Home")," "),e.xp6(2),e.hij(" ",i.util.translate("Track My Order")," "),e.xp6(7),e.hij(" ",i.util.translate("Pay with PayPal")," "),e.xp6(5),e.Q6J("config",i.payPalConfig))},dependencies:[f.sg,f.O5,f.PC,h.mT,h.b6,h.Hq,h.WF,h.oB,h.Ui,h.XI,g.YN,g.Kr,g.Fj,g.EJ,g.JJ,g.On,T.nu],styles:['@charset "UTF-8";']}),o})()}];let ve=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[v.Bz.forChild(fe),v.Bz]}),o})(),Ce=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[f.ez,ve,h.yi.forRoot(),g.u5,T.vj]}),o})()}}]);